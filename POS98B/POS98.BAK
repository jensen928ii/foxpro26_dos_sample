*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        04/29/1998             POS98.SPR               13:25:27 
*                                                                
*       픔컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        Author's Name                                           
*                                                                
*        Copyright (c) 1998 Company Name                         
*        Address                                                 
*        City,     Zip                                           
*                                                                
*        Description:                                            
*        This program was automatically generated by GENSCRN.    
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

PARAMETERS lookupmode, ;
	 keyscope, ;
	 lreturn, ;
	 prekey, ;
	 predata1

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                  POS98/MS-DOS Setup Code - SECTION 1           
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

#REGION 1

** Start of inserted file ..\INIT.PRG 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴start
if parameters() < 4 and ;
 	 parameters() > 0
	if lookupmode
	  do postremote
	else
	  do preremote
	endif	
	return
endif

***
* control variable

private addmode, ;
				oldkey, ;
				arraysize, ;
				itemfrom, ;
				itemlen, ;
				oldv, ;
				oldv2, ;
				maxno, ;
				pointer, ;
				editfield, ;
				itemfindx, ;
				warning, ;
				savecall, ;
				saveprint,;
				saveprint2, ;
				saveprint3, ;
				breakhour, ;
				breakmin, ;
				starthour, ;
				startmin, ;
				before, ;
				after, ;
				tempalias, ;
				headfile, ;
				linefile, ;
				linkdbf, ;
				linkmodule, ;
				savemodule, ;
				cashdrawer, ;
				checkno, ;
				idcheck, ;
				delimiter, ;
				holdvia, ;
				holdcat, ;
				stampcheck, ;
				roundcents, ;
				cashdirect, ;
				manaualtext, ;
				edittitle, ;
				discbyamt, ;
				sortby, ;
				startobj, ;
				autotable, ;
				today, ;
				editterms, ;
				howmuch, ;
				askduedate, ;
				byserver, ;
				askcompany, ;
				askclients, ;
				askc2, ;
				askemploy, ;
				autologin, ;
				postdate, ;
				autoinit, ;
				initprg, ;
				initvia, ;
				random, ;
				areafile, ;
				autor, ;
				asknotice, ;
				sort2bycat, ;
				printat1, ;
				automode, ;
				autovia, ;
				autolow, ;
				autohigh, greeting, ;
				promptr1, ;
				forceyes, exitkey, ;
				editkey, infokey, ;
				clearkey, autocard, ;
				tipsmode, cardi, ;
				splitkey, cardresult
				
m.cardresult = ''
m.splitkey = ''				
m.cardi = ''				
m.tipsmode = ''				
m.autocard = ''				
m.editkey = ''
m.infokey = ''
m.clearkey = ''
m.exitkey = ''				
m.promptr1 = ''
m.forceyes = ''
m.greeting = ''
m.autolow = 0
m.autohigh = 0
m.autovia = ''				
m.automode = ''
m.printat1 = ''				
m.sort2bycat = ''
m.saveprint3 = ''
m.asknotice = ''
m.autor = ''
m.areafile = ''
if !m.lookupmode
	m.login = ''
endif
m.random = ''				
m.autologin = ''
m.postdate = ''
m.initvia = ''
m.askemploy = ''
m.askclients = ''
m.askc2 = ''
m.initprg = ''
m.autoinit = ''				
m.askcompany = ''
m.byserver = ''
m.askduedate = ''
m.howmuch = ''				
m.editterms = ''
m.today = {//}
m.autotable = ''
m.startobj = 0
m.sortby = ''				
m.discbyamt = ''				
m.manualtext = 'manual'				
m.edittitle = ''
m.cashdirect = ''
m.roundcents = ''
m.stampcheck = ''
m.delimiter = ''
m.holdvia = ''
m.holdcat = ''
m.idcheck = ''
m.checkno = ''
m.cashdrawer = ''				
m.savemodule = ''				
m.linkdbf = ''
m.linkmodule = ''
m.tempalias = 'pos3'
m.headfile = 'pos'
m.linefile = 'pos2'				
m.breakhour = 0
m.breakmin = 0
m.starthour = 0
m.startmin = 0
m.before = ''
m.after = ''
m.oldkey = ''
m.oldv = ''
m.oldv2 = 'pos98'

m.arraysize = 12
m.itemlen = 8
m.itemfrom = 15

m.itemfindx = .t.
m.addmode = .t.
m.editfield = .t.
m.savecall = ''
m.saveprint = ''
m.saveprint2 = ''
m.warning = ''
m.maxno = 1
m.pointer = 1

private catsearch
m.catsearch = ''

***
* header fields variable

private	pos, ;
				clients, orderdate, ;
				deliveryon, taxrate, ;
				terms, discdate, discper ;
				duedate, via, fob, ;
				subtotal, salestax, discount, ;
				nettotal, ;
				total, balance, note, ;
				firstname, ;
				lastname, ;
				address1, ;
				address2, ;
				address3, ;
				city, ;
				state, ;
				zip, ;
				zip4, ;
				employee, ;
				surcharge, ;
				chargerate, ;
				approved, ;
				register, ;
				company, ;
				misc, ;
				misc2, ;
				notepad
				
m.notepad = ''
m.misc = ' '
m.misc2 = ''
m.company = ''
m.register = ''
m.approved = .f.
m.pos = ''
m.clients = ''
m.orderdate = date()
m.deliveryon = date()
m.taxrate = 0
m.terms = ''
m.discdate = date()
m.discper = 0
m.duedate = date()
m.via = ''
m.fob = ''
m.subtotal = 0
m.nettotal = 0
m.salestax = 0
m.discount = 0
m.total = 0
m.balance = 0
m.note = ''
m.firstname = ''
m.lastname = ''
m.address1 = ''
m.address2 = ''
m.address3 = ''
m.city = ''
m.state = ''
m.zip = ''
m.zip4 = ''
m.employee = ''
m.surcharge = 0
m.chargerate = 0

* payment headfile
private payment, change, method, cardno
m.method = ''
m.payment = 0
m.change = 0
m.cardno = ''

*line
dimension itemfile(m.arraysize), ;
					lno(m.arraysize), ;
					itemcode(m.arraysize), ;
					link(m.arraysize), ;
					keylink(m.arraysize)


dimension	itemname(m.arraysize), ;
					title(m.arraysize), ;
					tracking(m.arraysize), ;
					subtitle(m.arraysize), ;
					shipped(m.arraysize), ;
					parttax(m.arraysize), ;
					labortax(m.arraysize), ;
					price(m.arraysize), ;
					laborhour(m.arraysize), ;
					laborcost(m.arraysize), ;
					performby(m.arraysize), ;
					backorder(m.arraysize), ;
					linedisc(m.arraysize), ;
					extended(m.arraysize), ;
					checkin(m.arraysize), ;
					returndate(m.arraysize)


*line
store '' to itemfile
store '' to link
store '' to keylink
store 0 to lno
store '' to itemcode

*line
store '' to itemname
store '' to title
store '' to subtitle
store 1 to shipped
store '' to parttax
store 0 to price
store '' to labortax
store 0 to laborhour
store 0 to laborcost
store '' to performby
store 0 to backorder
store 0 to linedisc
store 0 to extended
store {//} to checkin
store {//} to returndate

*display variables
private language, ;
				m1, m2, m3, m4, m5, m6, m7, ;
				m8, m9, m10, m11, m12, m13, m14, ;
				m15, m16, m17, m18, m19, m20, ;
				m21, m22, m23

m.language = ''
m.m1 = ''
m.m2 = ''
m.m3 = ''
m.m4 = ''
m.m5 = ''
m.m6 = ''
m.m7 = ''
m.m8 = ''
m.m9 = ''
m.m10 = ''
m.m11 = ''
m.m12 = ''
m.m13 = ''
m.m14 = ''
m.m15 = ''
m.m16 = ''
m.m17 = ''
m.m18 = ''
m.m19 = ''
m.m20 = ''
m.m21 = ''
m.m22 = ''
m.m23 = ''

* disable screen variable

private _misc, ;				
				_lno, ;
				_via, ;
				_company, ;
				_employee, ;
				_clients, ;
				_notepad, ;
				initprog
				
m.areafrom = ''
m.initprog = ''
m._misc = ''
m._lno = ''
m._via = ''
m._company = ''
m._employee = ''
m._clients = ''
m._notepad = ''

if rdlevel() = 5
  =stopbox('NOT ENOUGH MEMORY')
  return
endif

if parameters()=0
  m.lreturn = ''
	m.keyscope = '.t.'
	m.lookupmode = .f.
	m.lreturn = ''
	m.prekey = ''
	m.predata1 = ''

**alert
* if !empty(m.predataX)
*   screen activate:
*		add show get m.predatax disable
*		procedure init
*		add m.XXX = m.predataX
* endif
endif

push menu _msysmenu
do selectm
do loadtable
do init

if !scheck('pos98','')
  return
endif
** End of inserted file ..\INIT.PRG 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴end


#REGION 0
REGIONAL m.currarea, m.talkstat, m.compstat

IF SET("TALK") = "ON"
	SET TALK OFF
	m.talkstat = "ON"
ELSE
	m.talkstat = "OFF"
ENDIF
m.compstat = SET("COMPATIBLE")
SET COMPATIBLE FOXPLUS

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                       MS-DOS Window definitions                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

IF NOT WEXIST("pos98") ;
	OR UPPER(WTITLE("POS98")) == "POS98.PJX" ;
	OR UPPER(WTITLE("POS98")) == "POS98.SCX" ;
	OR UPPER(WTITLE("POS98")) == "POS98.MNX" ;
	OR UPPER(WTITLE("POS98")) == "POS98.PRG" ;
	OR UPPER(WTITLE("POS98")) == "POS98.FRX" ;
	OR UPPER(WTITLE("POS98")) == "POS98.QPR"
	DEFINE WINDOW pos98 ;
		FROM 1, 0 ;
		TO 24,79 ;
		NOFLOAT ;
		NOCLOSE ;
		NOMINIMIZE ;
		NONE ;
		COLOR SCHEME 21
ENDIF


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                      POS98/MS-DOS Screen Layout                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

#REGION 1
IF WVISIBLE("pos98")
	ACTIVATE WINDOW pos98 SAME
ELSE
	ACTIVATE WINDOW pos98 NOSHOW
ENDIF
@ 4,0 TO 4,79
@ 2,13 TO 2,55
@ 23,40 SAY "-" ;
	SIZE 1,1, 0
@ 0,60 SAY "/" ;
	SIZE 1,1, 0
@ 17,0 TO 17,79
@ 18,46 TO 23,46
@ 18,55 TO 19,55
@ 18,61 TO 23,61
@ 18,69 TO 23,69
@ 0,40 TO 1,40
@ 20,47 TO 20,60
@ 22,47 TO 22,60
@ 0,24 SAY "/" ;
	SIZE 1,1, 0
@ 2,57 SAY "*" ;
	SIZE 1,1, 0
@ 3,7 SAY "Qty" ;
	SIZE 1,3, 0
@ 3,11 SAY "Price" ;
	SIZE 1,5, 0
@ 3,0 SAY "Item" ;
	SIZE 1,4, 0
@ 3,17 SAY "Disc" ;
	SIZE 1,4, 0
@ 3,23 SAY "Total" ;
	SIZE 1,5, 0
@ 1,24 SAY "/" ;
	SIZE 1,1, 0
@ 1,29 SAY "#" ;
	SIZE 1,1, 0
@ 0,0 GET m.m3 ;
	SIZE 1,13 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 0,14 GET m.employee ;
	SIZE 1,10 ;
	DEFAULT " " ;
	WHEN empw() ;
	VALID empv()
@ 0,25 GET m.clients ;
	SIZE 1,15 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN cliw() ;
	VALID cliv()
@ 0,41 GET m.m2 ;
	SIZE 1,10 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 0,52 GET m.balance ;
	SIZE 1,8 ;
	DEFAULT 0 ;
	PICTURE "9999999.99" ;
	WHEN .f.
@ 0,61 GET m.orderdate ;
	SIZE 1,10 ;
	DEFAULT {  /  /  } ;
	WHEN .f.
@ 0,72 GET m.fob ;
	SIZE 1,8 ;
	DEFAULT " " ;
	WHEN .f.
@ 1,0 GET m.m1 ;
	SIZE 1,13 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 1,14 GET m.via ;
	SIZE 1,10 ;
	DEFAULT " " ;
	WHEN viaw()
@ 1,25 GET m.company ;
	SIZE 1,4 ;
	DEFAULT " " ;
	WHEN comw()
@ 1,30 GET m.misc ;
	SIZE 1,10 ;
	DEFAULT " " ;
	WHEN miscw() ;
	VALID miscv()
@ 1,41 GET m.notepad ;
	SIZE 1,39 ;
	DEFAULT " "
@ 2,1 GET m.approved ;
	PICTURE "@*C Warning" ;
	SIZE 1,11 ;
	DEFAULT 0 ;
	VALID appv()
@ 2,59 GET m.terms ;
	SIZE 1,10 ;
	DEFAULT " " ;
	WHEN m.editterms != 'N'
@ 2,70 GET m.duedate ;
	SIZE 1,10 ;
	DEFAULT {  /  /  } ;
	WHEN .f.
@ 5,0 GET itemcode[1] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0srvi0() ;
	VALID _rud0srvin()
@ 5,7 GET shipped[1] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0srvje() ;
	VALID _rud0srvjy()
@ 5,10 GET price[1] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0srvkn() ;
	VALID _rud0srvl6()
@ 5,17 GET linedisc[1] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0srvlu() ;
	VALID _rud0srvme()
@ 5,20 GET extended[1] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "99999.99" ;
	WHEN .f.
@ 5,29 GET tracking[1] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0srvn8() ;
	VALID _rud0srvnv()
@ 5,67 EDIT itemname[1] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0srvoi() ;
	VALID _rud0srvp6()
@ 5,78 GET lno[1] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99999.99" ;
	WHEN .f.
@ 6,0 GET itemcode[2] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0srvty() ;
	VALID _rud0srvuk() ;
	DISABLE
@ 6,7 GET shipped[2] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0srvv9() ;
	VALID _rud0srvvv() ;
	DISABLE
@ 6,10 GET price[2] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0srvwj() ;
	VALID _rud0srvx8() ;
	DISABLE
@ 6,17 GET linedisc[2] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0srvxx() ;
	VALID _rud0srvyg() ;
	DISABLE
@ 6,20 GET extended[2] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 6,29 GET tracking[2] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0srvz9() ;
	VALID _rud0srvzx() ;
	DISABLE
@ 6,67 EDIT itemname[2] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0srw0j() ;
	VALID _rud0srw17() ;
	DISABLE
@ 6,78 GET lno[2] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 7,0 GET itemcode[3] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0srw1z() ;
	VALID _rud0srw2l() ;
	DISABLE
@ 7,7 GET shipped[3] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0srw3a() ;
	VALID _rud0srw45() ;
	DISABLE
@ 7,10 GET price[3] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0srw4t() ;
	VALID _rud0srw5c() ;
	DISABLE
@ 7,17 GET linedisc[3] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0srw61() ;
	VALID _rud0srw6n() ;
	DISABLE
@ 7,20 GET extended[3] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 7,29 GET tracking[3] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0srw7h() ;
	VALID _rud0srw84() ;
	DISABLE
@ 7,67 EDIT itemname[3] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0srw8r() ;
	VALID _rud0srw9f() ;
	DISABLE
@ 7,78 GET lno[3] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 8,0 GET itemcode[4] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0srwa7() ;
	VALID _rud0srwas() ;
	DISABLE
@ 8,7 GET shipped[4] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0srwbi() ;
	VALID _rud0srwc1() ;
	DISABLE
@ 8,10 GET price[4] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0srwcp() ;
	VALID _rud0srwd9() ;
	DISABLE
@ 8,17 GET linedisc[4] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0srwdy() ;
	VALID _rud0srweh() ;
	DISABLE
@ 8,20 GET extended[4] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 8,29 GET tracking[4] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0srwfa() ;
	VALID _rud0srwfx() ;
	DISABLE
@ 8,67 EDIT itemname[4] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0srwgl() ;
	VALID _rud0srwh8() ;
	DISABLE
@ 8,78 GET lno[4] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 9,0 GET itemcode[5] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0srwhz() ;
	VALID _rud0srwil() ;
	DISABLE
@ 9,7 GET shipped[5] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0srwjl() ;
	VALID _rud0srwk6() ;
	DISABLE
@ 9,10 GET price[5] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0srwms() ;
	VALID _rud0srwnb() ;
	DISABLE
@ 9,17 GET linedisc[5] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0srwo0() ;
	VALID _rud0srwok() ;
	DISABLE
@ 9,20 GET extended[5] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 9,29 GET tracking[5] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0srwpc() ;
	VALID _rud0srwq0() ;
	DISABLE
@ 9,67 EDIT itemname[5] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0srwqn() ;
	VALID _rud0srwr9() ;
	DISABLE
@ 9,78 GET lno[5] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 10,0 GET itemcode[6] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0srws3() ;
	VALID _rud0srwso() ;
	DISABLE
@ 10,7 GET shipped[6] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0srwtj() ;
	VALID _rud0srwu2() ;
	DISABLE
@ 10,10 GET price[6] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0srwur() ;
	VALID _rud0srwvb() ;
	DISABLE
@ 10,17 GET linedisc[6] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0srww0() ;
	VALID _rud0srwwj() ;
	DISABLE
@ 10,20 GET extended[6] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 10,29 GET tracking[6] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0srwxb() ;
	VALID _rud0srwxz() ;
	DISABLE
@ 10,67 EDIT itemname[6] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0srwym() ;
	VALID _rud0srwz9() ;
	DISABLE
@ 10,78 GET lno[6] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 11,0 GET itemcode[7] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0srx01() ;
	VALID _rud0srx0m() ;
	DISABLE
@ 11,7 GET shipped[7] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0srx1c() ;
	VALID _rud0srx2o() ;
	DISABLE
@ 11,10 GET price[7] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0srx5n() ;
	VALID _rud0srx8r() ;
	DISABLE
@ 11,17 GET linedisc[7] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0srxal() ;
	VALID _rud0srxbi() ;
	DISABLE
@ 11,20 GET extended[7] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 11,29 GET tracking[7] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0srxcb() ;
	VALID _rud0srxcy() ;
	DISABLE
@ 11,67 EDIT itemname[7] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0srxdk() ;
	VALID _rud0srxe7() ;
	DISABLE
@ 11,78 GET lno[7] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 12,0 GET itemcode[8] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0srxf0() ;
	VALID _rud0srxfk() ;
	DISABLE
@ 12,7 GET shipped[8] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0srxgb() ;
	VALID _rud0srxgu() ;
	DISABLE
@ 12,10 GET price[8] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0srxhj() ;
	VALID _rud0srxie() ;
	DISABLE
@ 12,17 GET linedisc[8] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0srxj3() ;
	VALID _rud0srxjm() ;
	DISABLE
@ 12,20 GET extended[8] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 12,29 GET tracking[8] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0srxkf() ;
	VALID _rud0srxl3() ;
	DISABLE
@ 12,67 EDIT itemname[8] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0srxlp() ;
	VALID _rud0srxmc() ;
	DISABLE
@ 12,78 GET lno[8] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 13,0 GET itemcode[9] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0srxn4() ;
	VALID _rud0srxnq() ;
	DISABLE
@ 13,7 GET shipped[9] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0srxog() ;
	VALID _rud0srxoy() ;
	DISABLE
@ 13,10 GET price[9] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0srxqn() ;
	VALID _rud0srxsj() ;
	DISABLE
@ 13,17 GET linedisc[9] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0srxws() ;
	VALID _rud0srxyz() ;
	DISABLE
@ 13,20 GET extended[9] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 13,29 GET tracking[9] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0sry2x() ;
	VALID _rud0sry64() ;
	DISABLE
@ 13,67 EDIT itemname[9] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0sry7g() ;
	VALID _rud0sry82() ;
	DISABLE
@ 13,78 GET lno[9] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 14,0 GET itemcode[10] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0sry98() ;
	VALID _rud0sry9z() ;
	DISABLE
@ 14,7 GET shipped[10] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0sryap() ;
	VALID _rud0sryb9() ;
	DISABLE
@ 14,10 GET price[10] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0srybx() ;
	VALID _rud0srych() ;
	DISABLE
@ 14,17 GET linedisc[10] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0sryd5() ;
	VALID _rud0srye0() ;
	DISABLE
@ 14,20 GET extended[10] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 14,29 GET tracking[10] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0sryet() ;
	VALID _rud0sryfg() ;
	DISABLE
@ 14,67 EDIT itemname[10] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0sryg3() ;
	VALID _rud0srygq() ;
	DISABLE
@ 14,78 GET lno[10] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 15,0 GET itemcode[11] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0sryhi() ;
	VALID _rud0sryi3() ;
	DISABLE
@ 15,7 GET shipped[11] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0sryit() ;
	VALID _rud0sryjc() ;
	DISABLE
@ 15,10 GET price[11] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0sryk1() ;
	VALID _rud0srykk() ;
	DISABLE
@ 15,17 GET linedisc[11] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0sryl9() ;
	VALID _rud0sryls() ;
	DISABLE
@ 15,20 GET extended[11] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 15,29 GET tracking[11] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0sryml() ;
	VALID _rud0sryn9() ;
	DISABLE
@ 15,67 EDIT itemname[11] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0sryo7() ;
	VALID _rud0sryou() ;
	DISABLE
@ 15,78 GET lno[11] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 16,0 GET itemcode[arraysize] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "@!" ;
	WHEN _rud0srypm() ;
	VALID _rud0sryq8() ;
	DISABLE
@ 16,7 GET shipped[arraysize] ;
	SIZE 1,2 ;
	DEFAULT 0 ;
	PICTURE "99" ;
	WHEN _rud0sryqy() ;
	VALID _rud0sryri() ;
	DISABLE
@ 16,10 GET price[arraysize] ;
	SIZE 1,6 ;
	DEFAULT " " ;
	PICTURE "999.99" ;
	WHEN _rud0srys6() ;
	VALID _rud0sryss() ;
	DISABLE
@ 16,17 GET linedisc[arraysize] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "99" ;
	WHEN _rud0srytg() ;
	VALID _rud0srytz() ;
	DISABLE
@ 16,20 GET extended[arraysize] ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 16,29 GET tracking[arraysize] ;
	SIZE 1,37 ;
	DEFAULT " " ;
	WHEN _rud0sryut() ;
	VALID _rud0sryvg() ;
	DISABLE
@ 16,67 EDIT itemname[arraysize] ;
	SIZE 1,13,0 ;
	DEFAULT " " ;
	WHEN _rud0sryw3() ;
	VALID _rud0srywo() ;
	DISABLE
@ 16,78 GET lno[arraysize] ;
	SIZE 1,2 ;
	DEFAULT " " ;
	PICTURE "9999999.99" ;
	WHEN .f. ;
	DISABLE
@ 18,0 GET m.m11 ;
	SIZE 1,4 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 18,5 GET m.firstname ;
	SIZE 1,35 ;
	DEFAULT " " ;
	VALID _rud0sryxk()
@ 19,5 GET m.lastname ;
	SIZE 1,35 ;
	DEFAULT " "
@ 20,0 GET m.m12 ;
	SIZE 1,4 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 20,5 GET m.address1 ;
	SIZE 1,40 ;
	DEFAULT " "
@ 21,5 GET m.address2 ;
	SIZE 1,40 ;
	DEFAULT " "
@ 22,5 GET m.address3 ;
	SIZE 1,40 ;
	DEFAULT " "
@ 23,5 GET m.city ;
	SIZE 1,15 ;
	DEFAULT " "
@ 23,21 GET m.m22 ;
	SIZE 1,5 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 23,27 GET m.state ;
	SIZE 1,2 ;
	DEFAULT " "
@ 23,30 GET m.m23 ;
	SIZE 1,4 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 23,35 GET m.zip ;
	SIZE 1,5 ;
	DEFAULT " " ;
	VALID _rud0sryz7()
@ 23,41 GET m.zip4 ;
	SIZE 1,4 ;
	DEFAULT " "
@ 18,47 GET m.m13 ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 18,56 GET m.discount ;
	SIZE 1,5 ;
	DEFAULT 0 ;
	PICTURE "99.99" ;
	WHEN _rud0srz0e() ;
	VALID _rud0srz0x()
@ 18,62 GET m.m16 ;
	SIZE 1,7 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 18,70 GET m.subtotal ;
	SIZE 1,10 ;
	DEFAULT 0 ;
	PICTURE "9999999.99" ;
	WHEN .f.
@ 19,47 GET m.m14 ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 19,56 GET m.taxrate ;
	SIZE 1,5 ;
	DEFAULT 0 ;
	PICTURE "99.99" ;
	WHEN _rud0srz1y() ;
	VALID _rud0srz2i()
@ 19,62 GET m.m17 ;
	SIZE 1,7 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 19,70 GET m.salestax ;
	SIZE 1,10 ;
	DEFAULT 0 ;
	PICTURE "9999999.99" ;
	WHEN .f.
@ 20,62 GET m.m18 ;
	SIZE 1,7 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 20,70 GET m.total ;
	SIZE 1,10 ;
	DEFAULT 0 ;
	PICTURE "9999999.99" ;
	WHEN _rud0srz3j() ;
	VALID _rud0srz45()
@ 21,51 GET m.method ;
	SIZE 1,10 ;
	DEFAULT " " ;
	VALID methodv()
@ 21,62 GET m.m19 ;
	SIZE 1,7 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 21,70 GET m.payment ;
	SIZE 1,10 ;
	DEFAULT 0 ;
	PICTURE "9999999.99" ;
	VALID payv()
@ 22,62 GET m.m20 ;
	SIZE 1,7 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 22,70 GET m.change ;
	SIZE 1,10 ;
	DEFAULT 0 ;
	PICTURE "9999999.99" ;
	WHEN .f.
@ 23,47 GET m.m15 ;
	SIZE 1,8 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 23,56 GET m.chargerate ;
	SIZE 1,5 ;
	DEFAULT " " ;
	PICTURE "99.99" ;
	WHEN _rud0srz5y() ;
	VALID chav()
@ 23,62 GET m.m21 ;
	SIZE 1,7 ;
	DEFAULT " " ;
	PICTURE "@J" ;
	WHEN .f.
@ 23,70 GET m.surcharge ;
	SIZE 1,10 ;
	DEFAULT 0 ;
	PICTURE "9999999.99" ;
	WHEN _rud0srz6r() ;
	VALID _rud0srz7a()

IF NOT WVISIBLE("pos98")
	ACTIVATE WINDOW pos98
ENDIF

READ CYCLE ;
	VALID v() timeout m.shutdown ;
	ACTIVATE _rud0srz82()

RELEASE WINDOW pos98

#REGION 0
IF m.talkstat = "ON"
	SET TALK ON
ENDIF
IF m.compstat = "ON"
	SET COMPATIBLE ON
ENDIF


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                       POS98/MS-DOS Cleanup Code                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

#REGION 1
pop menu _msysmenu
return
** Start of inserted file ..\POS98.PRG 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴start
external array 	itemfile, lno, ;
								itemcode, link, keylink, ;
								itemname, title, ;
								tracking, subtitle, ;
								shipped, parttax, ;
								labortax, price, ;
								laborhour, laborcost, ;
								performby, backorder, ;
								linedisc, extended, ;
								checkin, returndate

procedure init
private i, j

m.j = .t.
i = 0

if !scheck('pos98','init')
  return
endif

*template
	=numlock(.t.)
  m.itemfindx = .t.
	m.oldkey = ''
  m.addmode = .t.
  m.maxno = 1
	m.pointer = 1
	m.cardi = alltrim(getlocal('pos98','cardi'))
	m.greeting = alltrim(getlocal('pos98','greeting'))
	m.areafrom = alltrim(getlocal('pos98','areafrom'))
	m.initprg = alltrim(getlocal('pos98','initprg'))
	m.automode = alltrim(getlocal('pos98','automode'))
	m.autovia = alltrim(getlocal('pos98','autovia'))
	m.initvia = alltrim(getlocal('pos98','initvia'))
	m.register = alltrim(getlocal('pos98','register'))
	m.cashdrawer = alltrim(getlocal('pos98','cashdrawer'))
	m.areafile = alltrim(getlocal('pos98','areafile'))
	m.linkdbf = alltrim(getlocal('pos98','linkdbf'))
	m.linkmodule = alltrim(getlocal('pos98','linkmodule'))
	m.savemodule = alltrim(getlocal('pos98','savemodule'))
	m.askemploy = alltrim(getlocal('pos98','askemploy'))
	m.asknotice = alltrim(getlocal('pos98','asknotice'))
	m.askclients = alltrim(getlocal('pos98','askclients'))
	m.askc2 = alltrim(getlocal('pos98','askc2'))
	m.askcompany = alltrim(getlocal('pos98','askcompany'))
	m.exitkey = alltrim(getlocal('pos98','exitkey'))
	m.infokey = alltrim(getlocal('pos98','infokey'))
	m.editkey = alltrim(getlocal('pos98','editkey'))
	m.splitkey = alltrim(getlocal('pos98','splitkey'))
	m.clearkey = alltrim(getlocal('pos98','clearkey'))
	m.sortby = alltrim(getlocal('pos98','sortby'))
	if empty(m.sortby)
	  m.sortby = 'getno'
	endif
	m.manualtext = alltrim(getlocal('pos98','manualtext'))
	if empty(m.manualtext)
		m.manualtext = '+'
	endif
	m.holdvia = alltrim(getlocal('pos98','holdvia'))
	m.holdcat = alltrim(getlocal('pos98','holdcat'))

	m.delimiter = alltrim(getlocal('pos98','delimiter'))

	m.autocard = upper(;
										left(;
										alltrim(;
										getlocal('pos98','autocard')),1))

	m.printat1 = upper(;
										left(;
										alltrim(;
										getlocal('pos98','printat1')),1))

	m.sort2bycat = upper(;
										left(;
										alltrim(;
										getlocal('pos98','sort2bycat')),1))

	m.random = upper(;
										left(;
										alltrim(;
										getlocal('pos98','random')),1))

	m.postdate = upper(;
										left(;
										alltrim(;
										getlocal('pos98','postdate')),1))

	m.autologin = upper(;
										left(;
										alltrim(;
										getlocal('pos98','autologin')),1))

	m.autoinit = upper(;
										left(;
										alltrim(;
										getlocal('pos98','autoinit')),1))

	m.autor = upper(;
										left(;
										alltrim(;
										getlocal('pos98','autor')),1))

	m._lno = upper(;
										left(;
										alltrim(;
										getlocal('pos98','_lno')),1))

	m._misc = upper(;
										left(;
										alltrim(;
										getlocal('pos98','_misc')),1))

	m._via = upper(;
										left(;
										alltrim(;
										getlocal('pos98','_via')),1))
	m._company = upper(;
										left(;
										alltrim(;
										getlocal('pos98','_company')),1))
	m._employee = upper(;
										left(;
										alltrim(;
										getlocal('pos98','_employee')),1))
	m._clients = upper(;
										left(;
										alltrim(;
										getlocal('pos98','_clients')),1))
	m._notepad = upper(;
										left(;
										alltrim(;
										getlocal('pos98','_notepad')),1))
	m.promptr1 = upper(;
										left(;
										alltrim(;
										getlocal('pos98','promptr1')),1))
	m.tipsmode = upper(;
										left(;
										alltrim(;
										getlocal('pos98','tipsmode')),1))
	m.forceyes = upper(;
										left(;
										alltrim(;
										getlocal('pos98','forceyes')),1))
	

	if m._misc = 'N'
	  show get m.misc disable
	else
		show get m.misc enable
	endif
	
	if m._via = 'N'
	  show get m.via disable
	else
		show get m.via enable
	endif	

	if m._company = 'N'
	  show get m.company disable
	else
	  show get m.company enable
	endif
	
	if m._employee = 'N'
	  show get m.employee disable
	else
	  show get m.employee enable
	endif

	if m._clients = 'N'
	  show get m.clients disable
	else
		show get m.clients enable
	endif
	
	if m._notepad = 'N'
	  show get m.notepad disable
	else
		show get m.notepad enable
	endif

	m.byserver = upper(;
										left(;
										alltrim(;
										getlocal('pos98','byserver')),1))

	m.askduedate = upper(;
										left(;
										alltrim(;
										getlocal('pos98','askduedate')),1))

	m.editterms = upper(;
										left(;
										alltrim(;
										getlocal('pos98','editterms')),1))


	m.editfield = iif(upper(;
										left(;
										alltrim(;
										getlocal('pos98','editfield')),1));
										='N',.f.,.t.)
	m.saveprint = alltrim(getlocal('pos98','saveprint'))
	m.saveprint2 = alltrim(getlocal('pos98','saveprint2'))
	m.saveprint3 = alltrim(getlocal('pos98','saveprint3'))
	m.savecall = alltrim(getlocal('pos98','savecall'))
	m.language = upper(;
								left(;
								alltrim(getlocal('pos98','language')),1))
  m.autotable = upper(;
  							left(;
  							alltrim(;
  							getlocal('pos98','autotable')),1))

  m.discbyamt = upper(;
  							left(;
  							alltrim(;
  							getlocal('pos98','discbyamt')),1))

  m.cashdirect = upper(;
  							left(;
  							alltrim(;
  							getlocal('pos98','cashdirect')),1))
	
  m.roundcents = upper(;
  							left(;
  							alltrim(;
  							getlocal('pos98','roundcents')),1))

  m.edittitle = upper(;
  							left(;
  							alltrim(;
  							getlocal('pos98','edittitle')),1))

  m.stampcheck = upper(;
  							left(;
  							alltrim(;
  							getlocal('pos98','stampcheck')),1))
  m.warning = upper(;
  							left(;
  							alltrim(;
  							getlocal('pos98','warning')),1))
  m.checkno = upper(;
  							left(;
  							alltrim(;
  							getlocal('pos98','checkno')),1))

  m.howmuch = upper(;
  							left(;
  							alltrim(;
  							getlocal('pos98','howmuch')),1))

  m.idcheck = upper(;
  							left(;
  							alltrim(;
  							getlocal('pos98','idcheck')),1))

*module
  select (m.headfile)
  scatter memo memvar blank

	m.clients = alltrim(getlocal('pos98','clients'))
  m.orderdate = date()
	m.subtotal = 0
	m.salestax = 0
	m.discount = 0
	m.total = 0
	m.balance = 0
	m.note = ''
	m.employee = alltrim(getlocal('pos98','employee'))
  m.discdate = val(getlocal('pos98','discdate')) ;
  							+ m.orderdate
  m.discper = val(getlocal('pos98','discper'))
  m.deliveryon = 	val(getlocal('pos98','deliveryon')) ;
  								+ m.orderdate
  m.taxrate = val(getlocal('pos98','taxrate'))
	m.breakhour = val(getlocal('pos98','breakhour'))
	m.breakmin = val(getlocal('pos98','breakmin'))
	m.before = alltrim(getlocal('pos98','before'))
	m.after = alltrim(getlocal('pos98','after'))
	m.starthour = val(getlocal('pos98','starthour'))
	m.startmin = val(getlocal('pos98','startmin'))
	m.startobj = val(getlocal('pos98','startobj'))
	m.autolow = val(getlocal('pos98','autolow'))
	m.autohigh = val(getlocal('pos98','autohigh'))

	if m.autohigh = 0
	  m.autohigh = 99
	endif


    if m.breakhour != 0 .and. ;
       m.starthour != 0

      if (val(sys(2)) >= 3600 * m.breakhour + ;
      									60 * m.breakmin) .or. ;
      	 (val(sys(2)) < 3600 * m.starthour + ;
      	 								60 * m.startmin)
    		m.terms = m.after
			else
			  m.terms = m.before
			endif

		else
		  m.terms = ''
    endif

  m.via = getlocal('pos98','via')
  m.catsearch = upper(;
  							left(;
  							alltrim(;
  							getlocal('pos98','category')),1))
  m.discount = val(getlocal('pos98','discount'))
	m.method = alltrim(getlocal('pos98','method'))
	m.cardno = ''
	m.payment = 0
	m.surcharge = 0
	m.change = 0
	m.chargerate = val(getlocal('pos98','chargerate'))
	m.city = alltrim(getlocal('pos98','city'))
	m.state = alltrim(getlocal('pos98','state'))
	m.zip = alltrim(getlocal('pos98','zip'))
	m.zip4 = alltrim(getlocal('pos98','zip4'))
	m.approved = .f.

	=getglobal('pos98','counter1')

*template

	if used(m.tempalias)
	  use in (m.tempalias)
	endif
	select (m.linefile)
	copy stru to (m.tempalias) with cdx
	use (m.tempalias) in 0 excl
	select (m.tempalias)
	zap
	reindex
	append blank
	replace lno with m.maxno
	for i = 1 to m.arraysize
	  do emptykid with i
	endfor
	lno[1] = m.maxno
	for i = 2 to m.arraysize
		do hidekid with i
	endfor

	if !wexist('pos98')
  	return
	endif

	do picklang

if !empty(m.login)
	if scheck2('pos98','delete')
		show gets
  	return
	endif
endif

if empty(m.login) .or. m.autologin != 'N'
	do alltrim(m.progdrv) + 'login2.exe'
	do selectm
endif		

if !empty(m.greeting)
  do alltrim(m.progdrv) + 'display.app' with .t.,m.greeting
endif

do while m.j
if m.autoinit != 'N'
	do startinit
else
  m.j = .f.
endif
enddo

m.j = .t.

	if !scheck2('pos98','host')
		if empty(m.employee)
	  	m.employee = m.login	
		endif	
	endif

do while m.j
	do getclients
	if (lastkey() = 27) .or. ;
		!empty(m.clients)
		m.j = .f.
	endif
enddo

if lastkey() != 27
	do getemp
	do getcompany
	do getmisc
	if !empty(m.via)
		_curobj = firstkid()
	endif
endif


show gets
return

procedure picklang
if language != 'N'
  m.m1 = alltrim(getlocal('pos98','m1'))
  m.m2 = alltrim(getlocal('pos98','m2'))
  m.m3 = alltrim(getlocal('pos98','m3'))
  m.m4 = alltrim(getlocal('pos98','m4'))
  m.m5 = alltrim(getlocal('pos98','m5'))
  m.m6 = alltrim(getlocal('pos98','m6'))
  m.m7 = alltrim(getlocal('pos98','m7'))
  m.m8 = alltrim(getlocal('pos98','m8'))
  m.m9 = alltrim(getlocal('pos98','m9'))
  m.m10 = alltrim(getlocal('pos98','m10'))
  m.m11 = alltrim(getlocal('pos98','m11'))
  m.m12 = alltrim(getlocal('pos98','m12'))
  m.m13 = alltrim(getlocal('pos98','m13'))
  m.m14 = alltrim(getlocal('pos98','m14'))
  m.m15 = alltrim(getlocal('pos98','m15'))
  m.m16 = alltrim(getlocal('pos98','m16'))
  m.m17 = alltrim(getlocal('pos98','m17'))
  m.m18 = alltrim(getlocal('pos98','m18'))
  m.m19 = alltrim(getlocal('pos98','m19'))
  m.m20 = alltrim(getlocal('pos98','m20'))
  m.m21 = alltrim(getlocal('pos98','m21'))
  m.m22 = alltrim(getlocal('pos98','m22'))
  m.m23 = alltrim(getlocal('pos98','m23'))
	do picklang2
else
  m.m1 = alltrim(getlocal('pos98','m1a'))
  m.m2 = alltrim(getlocal('pos98','m2a'))
  m.m3 = alltrim(getlocal('pos98','m3a'))
  m.m4 = alltrim(getlocal('pos98','m4a'))
  m.m5 = alltrim(getlocal('pos98','m5a'))
  m.m6 = alltrim(getlocal('pos98','m6a'))
  m.m7 = alltrim(getlocal('pos98','m7a'))
  m.m8 = alltrim(getlocal('pos98','m8a'))
  m.m9 = alltrim(getlocal('pos98','m9a'))
  m.m10 = alltrim(getlocal('pos98','m10a'))
  m.m11 = alltrim(getlocal('pos98','m11a'))
  m.m12 = alltrim(getlocal('pos98','m12a'))
  m.m13 = alltrim(getlocal('pos98','m13a'))
  m.m14 = alltrim(getlocal('pos98','m14a'))
  m.m15 = alltrim(getlocal('pos98','m15a'))
  m.m16 = alltrim(getlocal('pos98','m16a'))
  m.m17 = alltrim(getlocal('pos98','m17a'))
  m.m18 = alltrim(getlocal('pos98','m18a'))
  m.m19 = alltrim(getlocal('pos98','m19a'))
  m.m20 = alltrim(getlocal('pos98','m20a'))
  m.m21 = alltrim(getlocal('pos98','m21a'))
  m.m22 = alltrim(getlocal('pos98','m22a'))
  m.m23 = alltrim(getlocal('pos98','m23a'))
	do picklang2
endif
do selectm
return

procedure picklang2
private i
m.i = 1
if language != 'N'
	select (m.tempalias)
	replace all tracking with title
	for i = 1 to m.arraysize
		tracking(i) = title(i)
	endfor
else
	select (m.tempalias)
	replace all tracking with subtitle
	for i = 1 to m.arraysize
		tracking(i) = subtitle(i)
	endfor
endif
show gets
return

procedure table

if !scheck('pos98','table')
  return
endif

* Jkey .........................
* parameter 	lcwind, lcdir, ;
*							lcfile, lcorder, ;
*							lcField, lcCond

do case
  case _curobj = objnum(m.zip)
		if jkey('jbrowser',m.progdrv,;
			'zip','zip',;
			'zip','.t.')
			m.zip = zip.zip
			m.city = zip.city
			m.state = zip.state
			show get m.city
			show get m.state
			show get m.zip
		endif
  case _curobj = objnum(m.terms)
		if jkey('jbrowser',m.progdrv,;
			'terms','terms',;
			'terms','.t.')
			m.terms = terms.terms
			show get m.terms
		endif
  case _curobj = objnum(m.method)
		if jkey('jbrowser',m.progdrv,;
			'method','method',;
			'method','.t.')
			m.method = method.method
			show get m.method
		endif
  case _curobj = objnum(m.clients)
		if jkey('jbrowser',m.progdrv,;
			'clients','clients',;
			'clients','.t.')
			m.clients = clients.clients
			do rclients
		endif
  case _curobj = objnum(m.via)
		if jkey('jbrowser',m.progdrv,;
			'via','via',;
			'via, via2','.t.')
			m.via = via.via
			show get m.via
		endif
  case _curobj = objnum(m.employee)
		if jkey('jbrowser',m.progdrv,;
			'userid','userid',;
			'userid','.t.')
			m.employee = userid.userid
			show get m.employee
		endif
  case _curobj = objnum(itemname(pointer))
		if jkey('jbrowser',m.progdrv,;
			'modifier','content',;
			'content, content2','.t.')
			itemname(pointer) = alltrim(itemname(pointer)) + ;
			  ' ' + ;
			  alltrim(modifier.content)
				show get itemname(pointer)
		endif
  case _curobj = objnum(itemcode(pointer))
		select opening
		set order to item
		select catalog
		set rela to upper(alltrim(itemfile)+'.app') into opening
		count for module = 'pos98'


		do case
		
		case _tally = 0
			=stopbox('Price Book not setup')
		case _tally = 1
		locate for module = 'pos98'
			if (m.catsearch != 'N') .and. ;
				 (upper(catalog.catsearch) != 'N')
			  if jkey3('jbrowser',m.progdrv,;
					'category','category2',;
					'category,category2' ,'program=['+upper(alltrim(catalog.itemfile))+']')
					if jkey3('jbrowser',m.progdrv,;
						alltrim(catalog.itemfile),m.sortby,;
						'subtitle,title,code width 20', 'category=['+alltrim(category.category) + ']')
						itemfile(pointer) = catalog.itemfile
						m.oldv = code
						do pricekid
					endif
				endif
			else
					if jkey3('jbrowser',m.progdrv,;
						alltrim(catalog.itemfile),m.sortby,;
						'subtitle,title,code width 20','.t.')
						itemfile(pointer) = catalog.itemfile
						m.oldv = code
						do pricekid
					endif
			endif
		
		otherwise

		if jkey3('jbrowser',m.progdrv,;
			'catalog','itemfile',;
			'itemfile:H="Price Book",opening.content','module="pos98"')

			if (m.catsearch != 'N') .and. ;
				 (upper(catalog.catsearch) != 'N')
				  if jkey3('jbrowser',m.progdrv,;
						'category','category2',;
						'category,category2' ,'program=['+alltrim(catalog.itemfile)+']')
						if jkey3('jbrowser',m.progdrv,;
							alltrim(catalog.itemfile),m.sortby,;
							'subtitle,title,code width 20' ,'category=['+alltrim(category.category) + ']')
							itemfile(pointer) = catalog.itemfile
							m.oldv = code
							do pricekid
						endif
					endif
			else
					if jkey3('jbrowser',m.progdrv,;
						alltrim(catalog.itemfile),m.sortby,;
						'subtitle,title,code width 20','.t.')
						itemfile(pointer) = catalog.itemfile
						m.oldv = code
						do pricekid
					endif
			endif

		endif

		endcase

		select catalog
		set rela to

		if lastkey() != 27
			if icodecomm()
			  if !m.editfield
					if m.pointer = m.arraysize
			      do i7forf
					else
						do forf
					endif
				endif
			else
		  	wait window "item not valid"
			endif		
		endif			


otherwise
  =stopbox('TABLE NOT AVAILABLE FOR THIS ITEM')
endcase
return

procedure tablef
private temp, n
m.temp = ''
m.oldv = ''
m.n = 1
if !scheck('pos98','tablef')
  return
endif
if rdlevel() >= 5
  =stopbox('NOT ENOUGH MEMORY')
  return
endif
do case
  case _curobj = objnum(m.zip)
		m.oldv = m.zip
  	do m.progdrv+'zip.app' with .t.,'.t.',m.zip,'',''
		if m.oldv != m.zip
			m.city = zip.city
			m.state = zip.state
			show get m.city
			show get m.state
		  show get m.zip
		endif
  case _curobj = objnum(m.method)
  	do m.progdrv+'method.app' with .t.,'.t.',m.method,'',''
		show get m.method
  case _curobj = objnum(m.terms)
  	do m.progdrv+'terms.app' with .t.,'.t.',m.terms,'',''
		show get m.terms
  case _curobj = objnum(m.via)
  	do m.progdrv+'via.app' with .t.,'.t.',m.via,'',''
		show get m.via
  case _curobj = objnum(itemname(pointer))
  	do m.progdrv+'modifier.app' with .t.,'.t.',m.temp,'',''
		if m.oldv != m.temp
			itemname(pointer) = alltrim(itemname(pointer)) + ;
			  ' ' + ;
			  alltrim(modifier.content)
				show get itemname(pointer)
		endif
		m.temp = ''
  	do m.progdrv+'object.app' with .t.,'.t.',m.temp,'',''
		if m.oldv != m.temp
			itemname(pointer) = alltrim(itemname(pointer)) + ;
			  ' ' + ;
			  alltrim(object.content)
				show get itemname(pointer)
		endif
  case _curobj = objnum(m.clients)
		m.oldv = m.clients
  	do m.progdrv+'clients.app' with .t.,'.t.',m.clients,'',''
		if m.oldv != m.clients
			m.clients = clients.clients
			do rclients
		endif
  case _curobj = objnum(itemcode(pointer))
		select opening
		set order to item
		select catalog
		set rela to upper(alltrim(itemfile)+'.app') into opening
		if jkey('jbrowser',m.progdrv,;
			'catalog','itemfile',;
			'itemfile:H="Price Book",opening.content','module="pos98"')
			do savekid with 'pos98'
  		do m.progdrv+alltrim(catalog.itemfile)+'.app' ;
  			with .t.,'.t.',m.oldv,'',''
			do restorekid with 'pos98'
 		  itemcode(pointer) = m.oldv
		  itemfile(pointer) = ""
			do refreshkid
		endif
		select catalog
		set rela to
otherwise
	do tablef2
endcase
return

procedure tablef2
	m.oldv = 'N'
	do save2
		do savekid with 'pos98'
		if empty(m.pos)
  	  do m.progdrv+'payment.app' with .t.,'.t.','','',m.clients
		else
			select payment2
			set order to
			locate for itemcode = m.pos
			if found()
				if jkey('jbrowser',m.progdrv,;
					'payment2','itemcode',;
					'pay,split','itemcode=['+alltrim(m.pos)+']')
  			  do m.progdrv+'payment.app' with .t.,'.t.','',payment2.payment,''
				else
  			  do m.progdrv+'payment.app' with .t.,'.t.','','',m.clients
				endif
			else

				m.temp = 0
			  do alltrim(m.progdrv) + 'askme.exe' with ;
			  	'n','How many splits?',m.temp
			  if m.temp != 0
					if m.postdate != 'N'
	  		    do m.progdrv+'payment.app' with .t.,'.t.','','',m.clients, m.temp, m.orderdate
					else
	  		    do m.progdrv+'payment.app' with .t.,'.t.','','',m.clients, m.temp
					endif
				endif
			endif
		endif
		do restorekid with 'pos98'
		do refreshkid
*		select pos
*		set order to
*		locate for pos = m.pos
*		if found()
*			m.balance = &headfile->balance
*			show get m.balance
*		endif			
	  do loadkid with &headfile->pos, 'pos'
return

procedure lookup
private i, x
i = 0
x = ''
if !scheck('pos98','lookup')
  return
endif

if empty(m.today)
	if !empty(m.delimiter)
  	m.keyscope = m.delimiter
	else
  	m.keyscope = '.t.'
	endif
else
  m.keyscope = 'orderdate = {' + alltrim(dtoc(m.today)) + '}'
endif	
do case
	otherwise
		if jkey('jbrowser',m.progdrv,;
			headfile,'clients',;
			'clients,misc,method,total,via width 10',m.keyscope)
		  do loadkid with &headfile->pos, 'pos'
			m.oldkey = m.pos
		endif
endcase
return

procedure lookupf
if !scheck('pos98','lookupf')
  return
endif
if rdlevel() >= 5
  =stopbox('NOT ENOUGH MEMORY')
  return
endif
do case
	case _curobj = objnum(m.clients)
		m.oldv = m.clients
  	do m.progdrv+'clients.app' with .t.,'.t.',m.clients,'',''
  	if m.oldv != m.clients
			if jkey('jbrowser',m.progdrv,;
				headfile,'pos',;
				'pos','clients="'+alltrim(m.clients)+'"')	
				do loadkid with &headfile->pos, 'pos'
				m.addmode = .f.
				m.oldkey = m.pos
		  else
		    m.clients = m.oldv
			endif
  	endif
otherwise
  =stopbox('LOOKUP FORM NOT AVAILABLE FOR THIS ITEM')
endcase
return

procedure delete
if !scheck('pos98','delete')
  return
endif
if !m.addmode .and. ;
	 !empty(m.pos)
********* new start
		select payment
		set order to payment
		select payment2
		set rela to payment into payment
		set order to
		scan for itemcode = m.pos
			select payment
		  if lockr()
		    replace amount with amount - payment2.pay
		    if amount = 0
		      delete
		    endif
		    unlock
		  endif
		  select payment2
			delete
		endscan
		select payment2
		set rela to
********* new end
	do restoreme
  select (m.headfile)
  set order to pos
  if seek(m.pos)
		if really()		
  		if lockr()
  			delete
  			unlock
				select (m.linefile)
				set order to
				locate for pos=m.pos
				do while found()
					delete
					continue				
				enddo
  			do init
  		else
  	  	=stopbox('CANNOT DELETE RECORD')
  		endif
		endif
	else
	  =stopbox('RECORD NOT FOUND')
  endif
else
  =stopbox('EMPTY FORM')
endif
return

procedure tabled
if !scheck('pos98','tabled')
  return
endif
do case
otherwise
***new start
	if empty(m.pos)
		=stopbox('You cannot void an empty check')
		return
	endif
	m.oldv = ''
	select fob from fob into array b
	do m.progdrv + 'apick.exe' with ;
		'Reason for cancel',b,m.oldv
	m.oldv = alltrim(m.oldv)		

	if !empty(m.oldv)
		=okbox('Please enter a reason in detail')		

		select (m.headfile)
		set order to pos
		if seek(m.pos)		
			do alltrim(m.progdrv)+'notepad.exe' with ;
				m.headfile, 'notepad'
		endif
		
		select payment
		set order to payment
		select payment2
		set rela to payment into payment
		set order to
		scan for itemcode = m.pos
			select payment
		  if lockr()
		    replace amount with amount - payment2.pay
		    unlock
		  endif
		  select payment2
			delete
		endscan
		select payment2
		set rela to
		if lockf()
			delete all for itemcode = m.pos
			unlock
		endif
		select pos
		set order to pos
		if seek(m.pos)
			if lockr()
		  	replace balance with 0		
				replace via with m.oldv
				replace subtotal with 0
				replace salestax with 0
				replace total with 0

				if m.postdate = 'N'
					replace post with date()
				else
					replace post with pos.orderdate
				endif					

				unlock
			endif				
			m.balance = 0
			m.via = m.oldv
			show get m.balance
			show get m.via
		endif
		select (m.tempalias)
	  replace all price with 0
	  replace all extended with 0
		do linesave
		do loadkid with m.pos, 'pos'
	endif				

***new end
endcase
return

procedure save
if !scheck('pos98','save')
  return
endif

if !allvalid()
  return
endif

if !empty(m.greeting)
  do alltrim(m.progdrv) + 'display.app' ;
    with .f.,'Amt Due : ' + ;
    str(m.payment,10,2) + ;
    'Change  : ' + str(m.change,10,2)
endif

m.oldv = ''

if m.promptr1 = 'N'
 	if m.payment > 0
		m.oldv = 'Y'
	else
  	m.oldv = 'N'
  endif
else
	if m.forceyes = 'N'
		m.oldv = alert('?','yNc',-1,-1,;
			'Print Receipt : ' + ;
			alltrim(m.method), ;
			'Pay : ' + alltrim(str(m.payment,10,2)),  ;
			'Change : ' + alltrim(str(m.change,10,2)), ;
			'Tips : ' + alltrim(str(m.surcharge,10,2)) )
	else
		m.oldv = alert('?','Ync',-1,-1,;
			'Print Receipt : ' + ;
			alltrim(m.method), ;
			'Pay : ' + alltrim(str(m.payment,10,2)),  ;
			'Change : ' + alltrim(str(m.change,10,2)), ;
			'Tips : ' + alltrim(str(m.surcharge,10,2)) )
	endif
endif

if m.oldv = 'C'
  return
endif

do save2
if m.lookupmode
	m.lreturn = m.pos
  clear read
else
	wait window
  do init
endif
return

procedure save2
if m.clients = m.automode
	select global
	set order to
	locate for program='pos98' .and. ;
						 function = 'counter1'
	if found()
		if lockr()
			m.clients = alltrim(str(val(global.setting)))
	
			if val(m.clients) > m.autohigh
				m.clients = alltrim(str(m.autolow))
				replace global.setting with ;
					alltrim(str(val(m.clients)+1))
			else
				if val(m.clients) < m.autolow
					m.clients = alltrim(str(m.autolow))
					replace global.setting with ;
						alltrim(str(val(m.clients)+1))
				else
					replace global.setting with ;
						alltrim(str(val(global.setting)+1))
				endif
			endif
			unlock
		endif		
	else
		=stopbox('Error locating available slot for customer')
		return
	endif
endif

select (m.headfile)

if m.addmode
	if lockf()
		if empty(m.pos)

			if m.random != 'N'
	      m.pos=getts( headfile, ;
    								'pos', ;
    								'getno')
			else
	      m.pos=getnextno( headfile, ;
    								'pos', ;
    								'getno')
			endif

			if empty(m.misc)
				if m.stampcheck != 'N'
				  m.misc = right(m.pos,8)
				endif
			endif
    else
			set order to pos
      if seek(m.pos)
				=stopbox('Cannot save duplicate order')
				unlock
			  return
      endif
    endif
		m.balance = m.balance - m.payment + m.change
		m.fob = time()
    append blank
	  gather memvar memo
    unlock
		do linesave
	else
	  =stopbox('ERROR SAVING FILE')
  endif
else
  if empty(m.pos)
    =stopbox('KEYCODE INVALID')
    _curobj = objnum(m.pos)
		return
  endif
	set order to pos
  if seek(m.pos)
		if m.oldkey != m.pos
			if alert('STOP','Yn',-1,-1,;
				"Record " + ;
				alltrim(m.pos)+;
				" already exists",;
				"Do you want to overwrite it?") = 'N'
				return
			endif
		endif

*		m.balance = m.balance - m.payment + m.change + ;
*								(m.total - &headfile->total)
*new start
*
*	ever since you add the balance runtime update
* to the ctotal, you take the difference
* m.total - &headfile->total out because you do
* it everytime you change the total from the
* procedure ctotal instantly.
*
*
		m.balance = m.balance - m.payment + m.change

    if lockr()
		  gather memvar memo
		  unlock
			do linesave
    endif
  else
		if alert('CAUTION','Yn',-1,-1,;
			'SAVE AS NEW RECORD') = 'Y'
			if lockf()
			  append blank
			  gather memvar memo
			  unlock
				do linesave
			else
			  =stopbox('RECORD SAVING ERROR')
			endif
		endif
  endif
endif
do saveclients

if m.payment > 0
	select payment
	set order to
	if lockf()
  	m.temp1=getts('payment', ;
							'payment', ;
							'getno')
		append blank
		replace payment with m.temp1
		replace clients with m.clients

		if m.postdate = 'N'
			replace date with date()
		else
			replace date with pos.orderdate
		endif					

		replace amount with (m.payment - m.change)
		replace credit with 0
		unlock
		select payment2
		if lockf()
			append blank
			replace payment with m.temp1
			replace itemcode with m.pos
			replace itemfile with headfile
			replace lno with 1
			replace pay with (m.payment - m.change)
			replace split with m.method
			replace itemname with m.cardno			
			if m.tipsmode != 'N'
				replace surcharge2 with m.surcharge
			endif				
			unlock
		endif				
	endif
	select pos
	if m.balance <= 0
		if lockr()
				if m.postdate = 'N'
					replace post with date()
				else
					replace post with pos.orderdate
				endif					
				if m.tipsmode != 'N'
					replace surcharge with 0
					replace chargerate with 0
				endif
			unlock
		endif
	else
		do rdue
	endif
endif

do finalwork

return

procedure saveclients
  select clients
  set order to clients
  m.clients = alltrim(m.clients)
  if seek(m.clients)
		if lockr()
  	  gather memvar
  	  unlock
		endif
  else
  	if lockf()
			append blank
			gather memvar
			unlock
		endif
  endif
return

procedure finalwork
do holdit
do receipt1
if type('oldv') = 'C'
	if m.oldv = 'C'
  	return
	endif
endif

if !empty(m.savecall)
	if file(alltrim(m.progdrv)+m.savecall+'.app')
		*	do alltrim(m.progdrv) + m.savecall;
		*  	with .f.,'module="pos98"','','','pos98'
  	=okbox('Under construction')
	else
  	=stopbox('External saving module not found')
	endif
endif

	do receipt2

	if m.addmode
		do receipt3
	endif		

return

function allvalid
return

procedure loadtable
  if !opentable(m.datadrv,'userid')
    cancel
  endif
  if !opentable(m.datadrv,'scheck')
	  cancel
  endif
  if !opentable(m.datadrv,'system')
	  cancel
  endif
  if !opentable('.\','local')
	  cancel
  endif
	if !opentable(m.datadrv,'via')
	  cancel
	endif
	if !opentable(m.datadrv,'fob')
	  cancel
	endif
	if !opentable(m.datadrv,headfile)
	  cancel
	endif
	if !opentable(m.datadrv,m.linefile)
	  cancel
	endif
  if !opentable(m.datadrv,'category')
    cancel
  endif
  if !opentable(m.datadrv,'catalog')
    cancel
  endif
  if !opentable(m.datadrv,'clients')
    cancel
  endif
  if !opentable(m.datadrv,m.headfile)
    cancel
  endif
  if !opentable(m.datadrv,m.linefile)
    cancel
  endif
  if !opentable(m.datadrv,'payment')
    cancel
  endif
  if !opentable(m.datadrv,'payment2')
    cancel
  endif
  if !opentable(m.datadrv,'method')
    cancel
  endif
  if !opentable(m.datadrv,'employee')
    cancel
  endif
  if !opentable(m.datadrv,'modifier')
    cancel
  endif
  if !opentable(m.datadrv,'object')
    cancel
  endif
  if !opentable(m.datadrv,'zip')
    cancel
  endif
  if !opentable(m.datadrv,'whatcard')
    cancel
  endif
  if !opentable(m.datadrv,'option')
    cancel
  endif
  if !opentable(m.datadrv,'profile2')
    cancel
  endif
  if !opentable(m.datadrv,'profile3')
    cancel
  endif
  if !opentable(m.datadrv,'area')
    cancel
  endif
  if !opentable(m.datadrv,'area2')
    cancel
  endif
  select catalog
  scan for module='pos98'
    if !empty(catalog.itemfile)
		  if !opentable(m.datadrv,catalog.itemfile)
				=okbox('Please run the catalog selection program')
				return to master
		  endif
		endif
  endscan
return

procedure plocal
if !scheck('pos98','plocal')
  return
endif

if rdlevel() >= 5
  =stopbox('NOT ENOUGH MEMORY')
  return
endif

do m.progdrv + 'local.exe' with .f., ;
  'program="pos98"', ;
  '','pos98',''
return

procedure pglobal
if !scheck('pos98','pglobal')
  return
endif

if rdlevel() >= 5
  =stopbox('NOT ENOUGH MEMORY')
  return
endif
do m.progdrv + 'global.exe' with .f., ;
  'program="pos98"', ;
  '','pos98',''
return

procedure jump
do case
  case _curobj >= firstkid() .and. <= lastkid()
	  _curobj = objnum(m.payment)
	case _curobj = objnum(m.payment)
		_curobj = objnum(m.method)
	case _curobj = objnum(m.method)
	  _curobj = objnum(m.employee)
	case _curobj = objnum(m.employee)
		_curobj = objnum(m.misc)
	otherwise
	  _curobj = firstkid()
endcase
return

procedure ipref
if !scheck('pos98','pref')
  return
endif
if rdlevel() >= 5
  =stopbox('NOT ENOUGH MEMORY')
  return
endif
do m.progdrv + 'pref.exe' with .f., ;
	'program="pos98"', ;
	"","",'pos98'
return

procedure isystem
if !scheck('pos98','system')
  return
endif
if rdlevel() >= 5
  =stopbox('NOT ENOUGH MEMORY')
  return
endif
do m.progdrv + 'system.exe' with .f., ;
	'program="pos98"', ;
	"","",'pos98'
return

procedure inotepad
if !scheck('pos98','notepad')
  return
endif
do case
	case _curobj >= firstkid() .and. ;
			 _curobj <= lastkid()
		select (m.tempalias)
		set order to lno
		if seek(lno(pointer))		
			do alltrim(m.progdrv)+'notepad.exe' with ;
				m.tempalias, 'itemname'
			itemname(pointer) = itemname
		endif
  otherwise
    if !m.addmode
			select (m.headfile)
			set order to
			locate for pos = m.pos
			if found()
      	do alltrim(m.progdrv)+'notepad.exe' with ;
      		headfile, 'notepad'
				m.notepad = &headfile->notepad
				show get m.notepad
			endif				
    endif
endcase
return

procedure lookagain
private n, vp, temp
m.temp = 0
m.vp = 1
m.n = 1

if _curobj >= firstkid() .and. ;
	 _curobj <= lastkid()
	if !empty(itemcode(pointer))
	  m.vp = m.pointer
	else
	  if pointer > 1
	    m.vp = m.pointer-1
		else
		  return
	  endif
	endif

	do while .t.
		if jkey('jbrowser',m.progdrv,;
			'modifier','content',;
			'content, content2','.t.')
			if !empty(m.exitkey)
				if modifier.content = m.exitkey
				  exit
				endif
			endif
			if !empty(m.editkey)
			  if modifier.content = m.editkey
					do lookagain4
					exit
			  endif
			endif
			if !empty(m.infokey)
			  if modifier.content = m.infokey
			    do line2.spr
					do lookagain3
			    exit
			  endif
			endif
			if !empty(m.clearkey)
			  if modifier.content = m.clearkey
					itemname(vp) = ''
					laborhour(vp) = 0
					laborcost(vp) = 0
					do lookagain3
			    exit
			  endif
			endif
			if jkey('jbrowser',m.progdrv,;
					'object','object',;
					'object, content, content2 width 15','.t.')
				itemname(vp) = alltrim(itemname(vp)) + ;
			  ' ' + ;
			  alltrim(modifier.content) + ' ' + ;
			  alltrim(object.content)
				itemname(vp) = alltrim(itemname(vp))
				show get itemname(vp)
				do lookagain2
				do lookagain3
			endif
		else
		  exit
		endif
	enddo
endif
return

procedure lookagain3
	m.temp = m.pointer
	m.pointer = m.vp
	do vtempsave
	do sumext
	m.pointer = m.temp
return

procedure lookagain4
	m.temp = m.pointer
	m.pointer = m.vp
	do inotepad
	m.pointer = m.temp
return

procedure lookagain2
if object.price > 0
  do alltrim(m.progdrv) + 'askme.exe' with ;
  	'n','How many units for ' + ;
  	alltrim(itemname(vp)), m.n
	if m.n > 1
  	itemname(vp) = itemname(vp) + ;
	  	'-' + alltrim(str(m.n))
	endif
	laborhour(vp) = 1
	laborcost(vp) = laborcost(vp) + object.price * m.n
endif
return

procedure preremote
return

procedure postremote
return

procedure itemtable
do alltrim(m.progdrv) + 'catalog.app' ;
  with .f.,'module="pos98"','','','pos98'
select catalog
scan for module='pos98'
  if !empty(catalog.itemfile)
		=opentable(m.datadrv,catalog.itemfile)
  endif
endscan
return

function icodecomm
if m.oldv != itemcode(pointer)
if !empty(returndate(pointer))
	if !scheck('pos98','edititem')
		itemcode(pointer) = m.oldv
		show get itemcode(pointer)
		return .f.			
	endif
endif
endif

if m.cashdirect != 'N'
  if '.' $ itemcode(pointer)
    itemfile(pointer) = ''
    shipped(pointer) = 1
    price(pointer) = val(itemcode(pointer))
    itemcode(pointer) = m.manualtext
		do sumext
		do tempsave
		do ctotal
		show gets
		return
  endif
endif

if empty(itemcode[pointer])
  if lno(pointer) != m.maxno
		=stopbox('INVALID ITEM')
		return .f.
  endif
else
  if m.oldv != itemcode[pointer]
	  itemfile[pointer] = ''
  endif
	if empty(itemfile[pointer])
    do itemfind
  endif
endif
if !empty(itemfile[pointer])
  do alltrim(m.progdrv) + ;
    alltrim(itemfile(pointer)) with .f.
endif
do sumext
do tempsave
do ctotal
do picklang2
show gets
return

procedure itemfind
declare b(1,2)
b(1,1) = ''
b(1,2) = ''
private i, lastfind, a
m.lastfind = ''
m.itemfindx = .t.
m.i = 0
m.a = 'Please choose from the following price book'
select catalog
set order to
select opening
set order to item
select catalog
set rela to upper(alltrim(itemfile)+'.app') into opening
scan for module = 'pos98'
  select alltrim(catalog.itemfile)
  set order to code
  if seek(itemcode[pointer])
    i = i + 1
		m.lastfind = alltrim(catalog.itemfile)+;
									' - ' + ;
									alltrim(opening.content)
		declare b(i)
		b(i) = m.lastfind
  endif
endscan
select catalog
set rela to
do case
  case m.i > 1
		select profile3
		set order to
		locate for via = m.via
		set exact off
		if found() .and. ;
				ascan(b,alltrim(upper(profile3.itemfile))) != 0
			m.lastfind = alltrim(profile3.itemfile)
		else
		
		  m.lastfind = ''
			if empty(m.lastfind)
				do m.progdrv + 'apick.exe' with a,b,m.lastfind
				m.lastfind = left(m.lastfind,at(' ',m.lastfind)-1)
			endif
			
		endif
		set exact on
		
		if !empty(m.lastfind)
  	  itemfile[pointer] = m.lastfind
  	  select (m.lastfind)
		  set order to code
  		if seek(itemcode[pointer])
				do pricekid
			else
	  		=stopbox('CATALOG OPENING ERROR')
  		endif
		endif



  case m.i = 1
		m.lastfind = left(m.lastfind,at(' ',m.lastfind)-1)
  	itemfile[pointer] = m.lastfind
  	select (m.lastfind)
		set order to code
  	if seek(itemcode[pointer])
			do pricekid
		else
	  	=stopbox('CATALOG OPENING ERROR')
  	endif
  otherwise
		itemfile[pointer] = ''
		m.itemfindx = .f.
		if !m.warning='N'
		  =stopbox('ITEM CODE NOT FOUND')
		endif
endcase
return

procedure sumext
if m.discbyamt != 'N'
  extended[pointer] = shipped[pointer] * ;
  										price[pointer] + ;
  										laborcost(pointer) * ;
  										laborhour(pointer) - ;
  										linedisc(pointer)

else
  extended[pointer] = (shipped[pointer] * ;
  										price[pointer]  + ;
  										laborcost(pointer) * ;
  										laborhour(pointer)) * ;
  										(100-linedisc[pointer]) / 100
endif
  show get extended[pointer]
  do ctotal
	do vtempsave
return

procedure ctotal

private subtax, subnotax, subtaxl, subnotaxl, ;
				oldtotal
	m.oldtotal = m.total

*new start above 3 line

  m.subtax = 0
  m.subnotax = 0
  m.subtaxl = 0
  m.subnotaxl = 0
  select (m.tempalias)

  sum shipped*price*(100-linedisc)/100 ;
    for upper(parttax)!='N' ;
    to m.subtax

  sum shipped*price*(100-linedisc)/100 ;
    for upper(parttax)='N' ;
    to m.subnotax

  sum laborhour*laborcost*(100-linedisc)/100 ;
    for upper(labortax)!='N' ;
    to m.subtaxl

  sum laborhour*laborcost*(100-discount)/100 ;
    for upper(labortax)='N' ;
    to m.subnotaxl

	m.subtax = m.subtax + m.subtaxl
	m.subnotax = m.subnotax + m.subnotaxl
	m.nettotal = m.subtax + m.subnotax
	
	m.subtax = round(m.subtax * (100-m.discount)/100,2)
	m.subnotax = round(m.subnotax * (100-m.discount)/100,2)
	m.subtotal = m.subtax + m.subnotax

	if m.roundcents = 'N'
 	  m.salestax = round(m.subtax * m.taxrate / 100,2)
	else
		if (m.subtax * m.taxrate / 100) - ;
			round(m.subtax * m.taxrate / 100,2) ;
			> 0
  	  m.salestax = round(m.subtax * m.taxrate / 100,2) + 0.01
		else
  	  m.salestax = round(m.subtax * m.taxrate / 100,2)
		endif
	endif
	
  m.total = m.subtotal + m.salestax
	
*new start here
	if m.oldtotal != m.total
	  m.balance = m.balance - (m.oldtotal - m.total)
	  show get m.balance
	endif
*end new start


	m.surcharge = m.subtotal * m.chargerate / 100

	show get m.surcharge
  show get m.subtotal
  show get m.salestax
  show get m.total
	show get m.discount


  do cdisplay
return

procedure ctotal2
private temptax, ;
				tempsub, ;
				temptotal, ;
				tempb

	m.tempb = m.balance
	m.temptotal = m.total				
	m.discount = 0
	do ctotal
	m.temptax = 0
	m.tempsub = 0
	m.temptax = m.temptotal / (100 + m.taxrate) * m.taxrate
	m.tempsub = m.temptotal - m.temptax
	m.discount = (m.subtotal - m.tempsub) / m.subtotal * 100
	do ctotal
	if m.oldv != m.total
		m.balance = m.tempb - (m.oldv - m.total)
	 	show get m.balance
	endif
return

procedure upkid
parameter what
  lno[what] = &tempalias->lno
  itemcode[what] = &tempalias->itemcode
  itemfile[what] = &tempalias->itemfile
	title(what) = &tempalias->title
	tracking(what) = &tempalias->tracking
	subtitle(what) = &tempalias->subtitle
  itemname[what] = &tempalias->itemname
  shipped[what] = &tempalias->shipped
  price[what] = &tempalias->price
  linedisc[what] = &tempalias->linedisc
  parttax[what] = &tempalias->parttax
	laborcost(what) = &tempalias->laborcost
	laborhour(what) = &tempalias->laborhour
	labortax(what) = &tempalias->labortax
	performby(what) = &tempalias->performby
  extended(what) = &tempalias->extended
	link(what) = &tempalias->link
	keylink(what) = &tempalias->keylink
	checkin(what) = &tempalias->checkin
	returndate(what) = &tempalias->returndate
return

procedure downkid
parameter what
  replace itemfile with itemfile[what]
  replace itemcode with itemcode[what]
  replace itemname with itemname[what]
	replace title with title(what)
	replace tracking with tracking(what)
	replace subtitle with subtitle(what)
  replace shipped with shipped[what]
  replace price with price[what]
  replace linedisc with linedisc[what]
  replace parttax with parttax[what]
  replace labortax with labortax(what)
  replace laborhour with laborhour(what)
  replace laborcost with laborcost(what)
  replace performby with performby(what)
  replace extended with extended(what)
	replace link with link(what)
	replace keylink with keylink(what)
	replace checkin with checkin(what)
	replace returndate with returndate(what)
return

procedure hidekid
parameter what
  	show get itemcode[what] disable
  	show get shipped[what] disable
  	show get price[what] disable
		show get parttax(what) disable
		show get laborhour(what) disable
		show get laborcost(what) disable
		show get performby(what) disable
		show get linedisc(what) disable
	  show get extended[what] disable
	  show get itemname[what] disable
		show get title(what) disable
		show get tracking(what) disable
		show get subtitle(what) disable
		show get checkin(what) disable
		show get returndate(what) disable
		show get lno(what) disable
return

procedure replacekid
parameter from,to
		itemfile[from] = itemfile[to]
    itemcode[from] = itemcode[to]
		shipped[from] = shipped[to]
		price[from] = price[to]
		linedisc[from] = linedisc[to]
		extended[from] = extended[to]
		title(from) = title(to)
		tracking(from) = tracking(to)
		subtitle(from) = subtitle(to)
		itemname[from] = itemname[to]
		lno[from] = lno[to]
		parttax(from) = parttax(to)
		labortax(from) = labortax(to)
		performby(from) = performby(to)
		link(from) = link(to)
		keylink(from) = keylink(to)
		checkin(from) = checkin(to)
		returndate(from) = returndate(to)
return

procedure showkid
parameter what
  show get itemcode[what] enable
  show get shipped[what] enable
  show get price[what] enable
  show get linedisc[what] enable
  show get itemname[what] enable
  show get extended[what] enable
  show get parttax[what] enable
  show get laborcost(what) enable
  show get laborhour(what) enable
  show get labortax(what) enable
	show get title(what) enable
	show get tracking(what) enable
	show get subtitle(what) enable
	show get performby(what) enable
	show get checkin(what) enable
	show get returndate(what) enable
	if m._lno != 'N'
		show get lno(what) enable
	endif
return

procedure emptykid
parameter what
  lno[what] = 0
  itemfile[what]= ' '
  itemcode[what]= ' '
  title(what) = ' '
  tracking(what) = ''
  subtitle(what) = ' '
  itemname[what]= ' '
  price[what] = 0
  shipped[what] = 1
  linedisc[what] = 0
  extended[what] = 0
  parttax[what] = ' '
  labortax(what) = ''
  laborcost(what) = 0
  laborhour(what) = 0
  performby(what) = ''
	link(what) = ''
	keylink(what) = ''
	checkin(what) = {//}
	returndate(what) = {//}
return

procedure pricekid
*only serve the one on screen
	itemcode(pointer) = code
	itemname(pointer) = detail
	title(pointer) = title
	subtitle(pointer) = subtitle
	if fieldfound('special')
		if m.terms = m.after
			price(pointer) = price
		else
			price(pointer) = special
		endif
	else
		price(pointer) = price
	endif
	performby(pointer) = category
	laborcost(pointer) = laborcost
	laborhour(pointer) = laborhour
	labortax(pointer) = labortax
	parttax(pointer) = parttax
	keylink(pointer) = ''
	link(pointer) = ''
	checkin(pointer) = {//}
	returndate(pointer) = {//}
	if minorder > 0
		shipped(pointer) = minorder
	endif

	select option
	set order to
	locate for upper(booklink) = upper(itemfile(pointer)) .and. ;
						 iclink = alltrim(itemcode(pointer))
	if found()
		if jkey('jbrowser',m.progdrv,;
			'option','option',;
			'howto, subtitle','iclink=['+alltrim(itemcode(pointer))+']'+;
			' and ' + ;
			'upper(booklink)=['+upper(alltrim(itemfile(pointer)))+']')
			title(pointer) =  alltrim(option.howto) + ' ' + ;
											alltrim(title(pointer))
			subtitle(pointer) = alltrim(option.subtitle) + ;
													alltrim(subtitle(pointer))
			if m.howmuch != 'N'
				if m.terms = m.after
				  price(pointer) = option.howmuch
				else
					price(pointer) = option.special
				endif
				if option.howmuch != option.special
					if m.after != m.before
		  			itemname(pointer) = alltrim(m.terms) + ;
			 										'/' + ;
		  										alltrim(itemname(pointer))
					endif		  											
				endif
			else
			  do pricekid2
			endif			
		endif
	else
		do pricekid2
	endif
return

procedure pricekid2
if used(alltrim(itemfile(pointer)))
	select alltrim(itemfile(pointer))
	if fieldfound('special')
  	if special != price
			if m.after != m.before
		  	itemname(pointer) = alltrim(m.terms) + ;
				 										'/' + ;
			  										alltrim(itemname(pointer))
			endif		  											
		endif
	endif
endif	
return

procedure linesave
if !m.addmode
	do restoreme
endif
	select (m.linefile)
	set order to
	locate for pos = m.pos
	do while found()
		if lockr()
		  dele
			unlock
		endif
		continue
	enddo
	select (m.tempalias)
	replace all pos with m.pos
	replace all returndate with date()
	delete all for empty(itemcode)

*jensen critical error

	set order to lno
	go bottom
	m.maxno = lno
	
	scan
	select profile2
	set order to

	if m.sort2bycat = 'N'
		locate for via = alltrim(m.via) .and. ;
						 itemfile = alltrim(&tempalias->itemfile)
	else
		locate for via = alltrim(m.via) .and. ;
						 itemfile = alltrim(&tempalias->performby)
	endif

	if found()
		replace &tempalias->sort with profile2.sort2
	endif
	endscan
	select (m.linefile)
	if lockf()
		append from (m.tempalias)
	  unlock
	endif
	select (m.tempalias)
  go top
  scan
    if !empty(itemfile)
      do alltrim(m.progdrv)+alltrim(itemfile) ;
      	with .t., shipped, itemcode
    endif
  endscan
return

procedure restoreme
select (m.linefile)
set order to
scan for pos = m.pos
	if file(alltrim(m.progdrv)+alltrim(itemfile)+'.app')
 		do alltrim(m.progdrv)+alltrim(itemfile) ;
 			with .t., -shipped, itemcode
	endif
	select (m.linefile)
endscan
return

* procedure lprint
* if !empty(m.pos)
*  if _curobj >= firstkid() .and. ;
*  	 _curobj <= lastkid()
*  	if !empty(itemcode(pointer))
*			if alert('STOP','yN',-1,-1,;
*				'Print ' + alltrim(itemcode(pointer))+;
*				' ' + alltrim(title(pointer)) ) = 'Y'
*				select catalog
*				locate for module='pos98' .and.;
*					itemfile = itemfile(pointer)
*				if found()
*					do setlptn with driver
*				endif		
*				select (m.tempalias)
*				set order to lno
*				seek(lno(pointer))
*				if found()
*			  	report form print1 to print noconsole next 1
*					set printer to
*				else
*				  =stopbox('Line item printing error')
*  			endif
*  		endif
*  	endif
*  endif
* endif
* return


procedure d1item
if !scheck('pos98','editprint')
	return
endif

	do case
		case _curobj >= firstkid() .and. ;
			 _curobj <= lastkid()
			select (m.tempalias)
			set order to lno
			if seek(lno(pointer))		
				if really()
					blank field checkin, backorder
					checkin(pointer) = checkin
				endif
			endif
	endcase
return

procedure dcheck
select (m.tempalias)
if seek(lno(pointer))
	if empty(&tempalias->returndate)
		do deletei
		do vtempsave
		do sumext
	else
		if scheck('pos98','deletei')
			do deletei
			do vtempsave
			do sumext
		endif
	endif		
endif
return

function mcheck
if !empty(returndate(pointer))
	if !scheck2('pos98','edititem')
	  return .f.
	endif	
endif
	do case
		case _curobj = objnum(shipped(pointer))
			if !m.addmode
			  if !scheck2('pos98','editqty')
	  		  return .f.
			  endif	
			endif			
		case _curobj = objnum(price(pointer))
			if price = 0
				return .t.
			endif
			if !scheck2('pos98','editprice')
	  		return .f.
			endif	
		case _curobj = objnum(linedisc(pointer))
			if !scheck2('pos98','editdisc')
	  		return .f.
			endif	
		case _curobj = objnum(m.discount) .or. ;
		 		 _curobj = objnum(m.total)
			if !scheck2('pos98','editdisc')
	  		return .f.
			endif	
		case _curobj = objnum(m.taxrate)
			if !scheck2('pos98','host')
	  		return .f.
			endif	
	endcase
return .t.

procedure auto
if readkey() != 4
if m.autotable != 'N'
	if empty(itemcode(pointer))
		if lastkey() != 27
	    do table
			if lastkey() = 27
			  m.autotable = 'N'
			endif
		endif	
  endif
endif
return
endif

procedure checkme

if !scheck2('pos98','lookup')

		if jkey('jbrowser',m.progdrv,;
			headfile,'clients',;
			'misc,balance,clients',;
			'empty(post) .and. employee=['+m.login+']')
  		do loadkid with &headfile->pos, 'pos'
			m.oldkey = m.pos
		endif

else

if alltrim(upper(byserver)) = 'V'
	if jkey('jbrowser',m.progdrv,;
		'via','via',;
		'via','.t.')
		m.x = alltrim(via.via)
		if jkey('jbrowser',m.progdrv,;
			headfile,'clients',;
			'misc,balance,clients',;
			'empty(post) .and. via=['+m.x+']')
  		do loadkid with &headfile->pos, 'pos'
			m.oldkey = m.pos
		endif
	endif
  return
endif

if m.byserver != 'N'
	if jkey('jbrowser',m.progdrv,;
		'userid','userid',;
		'userid','.t.')
		m.x = alltrim(userid.userid)
		if jkey('jbrowser',m.progdrv,;
			headfile,'clients',;
			'misc,balance,clients',;
			'empty(post) .and. employee=['+m.x+']')
  		do loadkid with &headfile->pos, 'pos'
			m.oldkey = m.pos
		endif
	else
		if jkey('jbrowser',m.progdrv,;
			headfile,'clients',;
			'misc,balance,clients,via,employee',;
			'empty(post)' )
	  	do loadkid with &headfile->pos, 'pos'
			m.oldkey = m.pos
		endif
	endif
else
	if jkey('jbrowser',m.progdrv,;
		headfile,'clients',;
		'misc,balance,clients,via,employee',;
		'empty(post)' )
  	do loadkid with &headfile->pos, 'pos'
		m.oldkey = m.pos
	endif
endif

endif
return


procedure zeroitem
if !scheck('pos98','zeroitem')
  return
endif
if _curobj >= firstkid() .and. ;
	 _curobj <= lastkid()
	if !empty(itemcode(pointer))
		price(pointer) = 0
		laborcost(pointer) = 0
		do vtempsave
		do sumext
		show gets
	else
	  if pointer > 1
	    price(pointer-1) = 0
			laborcost(pointer-1) = 0
			pointer = pointer - 1
			do vtempsave
			do sumext
			pointer = pointer + 1
			show gets
	  endif
	endif	
endif
return

procedure startinit
if !scheck2('pos98','lookup')
	if !empty(m.initprg) .and. wexist('pos98')
		if file(m.progdrv + m.initprg)
			do savekid with 'pos98'
		  do alltrim(m.progdrv) + m.initprg with .t.,'.t.',m.oldv,m.areafrom
			do restorekid with 'pos98'
 		  m.clients = alltrim(m.oldv)
			if !empty(m.clients) 		
				m.via = alltrim(m.initvia)
			endif				
			if !empty(m.clients)
			 	select pos
			 	set order to
			 	locate for clients = m.clients .and. empty(post)
				if found()
					if alltrim(pos.employee) != alltrim(m.login)
						do alltrim(m.progdrv) + 'login2.exe' with .t.
						if alltrim(m.login) != pos.employee
							=stopbox('Cannot load ' + ;
											alltrim(pos.employee) + ' table')
							do restorekid with 'pos98'
							m.j = .t.
							return
						else
						  do loadkid with &headfile->pos, 'pos'
							m.oldkey = m.pos
						endif
					else
					  do loadkid with &headfile->pos, 'pos'
						m.oldkey = m.pos
					endif						
				else
					if used(areafile)
					  select (areafile)
				  	set order to
				  	locate for itemcode = m.oldv
					  if found()
					  	if !empty(&areafile->who)
								m.employee = alltrim(&areafile->who)
					  	endif
					  endif
					endif
				endif
			endif
			do refreshkid
		endif
	endif
	m.j = .f.
else
	if !empty(m.initprg) .and. wexist('pos98')
		if file(m.progdrv + m.initprg)
			do savekid with 'pos98'
		  do alltrim(m.progdrv) + m.initprg with .t.,'.t.',m.oldv,m.areafrom
			do restorekid with 'pos98'
 		  m.clients = alltrim(m.oldv)
			if !empty(m.clients) 		
				m.via = alltrim(m.initvia)
			endif				
			if !empty(m.clients)
			 	select pos
			 	set order to
			 	locate for clients = m.clients .and. empty(post)
				if found()
				  do loadkid with &headfile->pos, 'pos'
					m.oldkey = m.pos
				else
					if used(areafile)
						select (areafile)
				  	set order to
				  	locate for itemcode = m.oldv
					  if found()
					  	if !empty(&areafile->who)
								m.employee = alltrim(&areafile->who)
					  	endif
					  endif
					endif
				endif
			endif
			do refreshkid
		endif
	endif
  m.j = .f.
endif
return

procedure getcompany
if !empty(m.askcompany)
	if alltrim(m.via) $ alltrim(m.askcompany)
		if empty(m.company)
		  do alltrim(m.progdrv) + 'askme.exe' with ;
		  	'c','How many people?',m.company
			_curobj = _curobj + 1
		endif
	else
		return .f.
	endif
else
	if empty(m.company)
  	do alltrim(m.progdrv) + 'askme.exe' with ;
	  	'c','How many people?',m.company
	endif
endif
return

procedure getemp
if !empty(m.askemploy)
	if alltrim(m.via) $ alltrim(m.askemploy)
		if m.employee='*'
	  	return .f.
		else
			if empty(m.employee)
				if jkey('jbrowser',m.progdrv,;
					'userid','userid',;
					'userid','.t.')
					m.employee = userid.userid
					show get m.employee
				endif
			endif
		endif
	else
		return .f.
	endif
else
	if m.employee='*'
	  return .f.
	else
		if empty(m.employee)
			if jkey('jbrowser',m.progdrv,;
				'userid','userid',;
				'userid','.t.')
					m.employee = userid.userid
					show get m.employee
			endif
		endif
	endif
endif
return

procedure getclients
private tempscreen
m.tempscreen = ''
save screen to tempscreen
clear
if empty(m.clients)
  do alltrim(m.progdrv) + 'askme.exe' with ;
  	'c','Search : ' + alltrim(m.automode) + ;
  	' = ' + alltrim(m.autovia) ,m.clients
	do cv
endif
restore screen from tempscreen

if !empty(m.automode)
	if alltrim(m.clients) = m.automode
  	m.via = alltrim(m.autovia)
	endif
endif	

if empty(m.via)
	select alltrim(via) + ' ' + alltrim(via2) from via into array b
	do m.progdrv + 'apick.exe' with ;
		'Please select transaction',b,m.via
	m.via = alltrim(m.via)		
endif

if !empty(m.askc2) .and. m.addmode
	if alltrim(m.via) $ alltrim(m.askc2)
	  if alltrim(m.clients) = alltrim(m.automode)
			m.clients = ''
	  endif
		do custinfo.spr
		if empty(m.clients)
		  m.clients = alltrim(m.automode)
		endif
	endif
endif

return

procedure getmisc
if m.checkno != 'N'
	if empty(m.misc)
		  do alltrim(m.progdrv) + 'askme.exe' with ;
		  	'c','Check No?',m.misc
	endif
	if empty(m.misc)
	 m.misc = ' '
	endif
endif	
return


function v
private m.who
m.who = ''
if m.lookupmode
  return
endif
if !scheck2('pos98','quit')
	if scheck2('pos98','logout')
		if alert('STOP','Yn',-1,-1,;
					"do you want to logout?") = 'Y'
			if !empty(m.greeting)
	  		do alltrim(m.progdrv) + 'display.app' ;
	    	with .f.,'CLOSED'
			endif    	
			m.login = ''
		  do init
		endif
		return .f.
	else
		return .f.
	endif		
else
	if alert('STOP','Yn',-1,-1,;
				"do you want to logout?") = 'Y'
		m.who = m.login
		m.login = ''
			if !empty(m.greeting)
		  	do alltrim(m.progdrv) + 'display.app' ;
    		with .f.,'CLOSED'
			endif    		

		if alert('STOP','yN',-1,-1,;
				"do you want to quit?") = 'Y'
			m.login = m.who
	  	return .t.
		else
		  do init
		  return .f.	  	
		endif
	else
	  return .f.
	endif
endif


procedure receipt1
parameter lookupmode
if parameters() = 0
  m.lookupmode = .f.
endif
if !empty(m.saveprint)
	if m.total > 0 .or. ;
	   m.lookupmode
		if type('oldv') != 'C'
		  m.oldv = 'Y'
		endif
		if m.oldv != 'Y' .and. !m.lookupmode
			return
		endif
	  if file(alltrim(m.progdrv)+m.saveprint+'.app')
		  do alltrim(m.progdrv) + m.saveprint with .t.,'','',m.pos
	  else
 		  =stopbox('Printing module not found')
	  endif
	endif
endif
return

procedure holdit

private aflag, eflag
m.aflag = .f.
m.eflag = .f.


*
* if you don't want to print all at once, say default 'N'
* you have to come back and reprint the item which has
* a backorder on it.
* for faster operation, leave it to empty so
* cook can pick up faster
*

if m.printat1 = 'N'
	select(m.tempalias)
	locate for (backorder = 1)
	if found()
		if alert('?','Yn',-1,-1,;
					'Ready for main') = 'Y'
				replace all checkin with {//}, ;
									backorder with 0 for ;
					(backorder = 1)
				select (m.linefile)
				replace all checkin with {//}, ;
									backorder with 0 for ;
					(backorder = 1) .and. ;
					(pos = m.pos)
		endif
	endif
endif

	if alltrim(m.via) $ m.holdvia
		select (m.tempalias)
		scan
			if (alltrim(performby) $ m.holdcat) .and.;
					empty(checkin)
				m.aflag = .t.
			else
				if empty(checkin)
			    m.eflag = .t.
				endif			
			endif
			if m.aflag and m.eflag
				exit
			endif
		endscan	

		if m.aflag and m.eflag
			if alert('?','Yn',-1,-1,;
				'Hold for main') = 'Y'
				select (m.linefile)
				scan for pos = m.pos
					if !(alltrim(performby) $ m.holdcat) .and. ;
					  empty(checkin)
						if lockr()
							replace backorder with 1
							if m.printat1 = 'N'
								replace checkin with date()
							endif
							unlock
						endif										
					endif
				endscan	
			endif
		endif

	endif

return

procedure receipt2

select (m.tempalias)
locate for empty(checkin)
if found()
if !empty(m.saveprint2)
  if m.autor = 'N'
		if alert('?','Yn',-1,-1,;
				'Print new entries') = 'N'
			return
		endif	
	endif		
	  if file(alltrim(m.progdrv)+m.saveprint2+'.app')
		  do alltrim(m.progdrv) + m.saveprint2 with ;
		  	.t.,'','',m.pos,'pos98'
			select (m.linefile)
			set order to
			if lockf()
		  	replace all checkin with date() ;
		  		for pos = m.pos
				unlock
			endif	
	  else
  	  =stopbox('Printing module not found')
	  endif
endif
endif
return

procedure receipt3
if alltrim(m.via) $ m.asknotice

if !empty(m.saveprint3)

  if m.autor = 'N'
		if alert('?','Yn',-1,-1,;
			'Notice') = 'N'
			return
		endif
	endif

  if file(alltrim(m.progdrv)+m.saveprint3+'.app')
	  do alltrim(m.progdrv) + m.saveprint3 with .t.,'','',m.pos
  else
 	  =stopbox('Printing module not found')
  endif

endif

endif
return

procedure cv
if !empty(m.clients) .and. m.addmode
	select area2
	set order to
	locate for itemcode=alltrim(m.clients)
	if !found()
		do rclients
	else
	  m.via = m.initvia
	endif

	select pos
	set order to
	locate for clients = alltrim(m.clients) .and. ;
							empty(post) .and. ;
							empty(duedate)

	if found()
	  if !scheck2('pos98','lookup')
			if pos.employee != m.login
		  	=okbox('Cannot load '+ alltrim(pos.employee) + ' table')
	  		m.clients = ''
	  		_curobj = objnum(m.clients)
		  	show get m.clients
				return
			endif
		endif			
		do loadkid with &headfile->pos, 'pos'
		m.oldkey = m.pos
	endif						
	do rclients
endif
return

procedure rclients
	select clients
	set order to
	locate for clients = m.clients
	if found()
			m.firstname = clients.firstname
			m.lastname = clients.lastname
			m.address1 = clients.address1
			m.address2 = clients.address2
			m.address3 = clients.address3
			m.approved = clients.approved
			m.city= clients.city
			m.state = clients.state
			m.zip = clients.zip
			m.zip4 = clients.zip4			
			show get m.approved
			show get m.firstname
			show get m.lastname
			show get m.address1
			show get m.address2
			show get m.address3
			show get m.city
			show get m.state
			show get m.zip
			show get m.zip4
			show get m.clients
			if approved
				do alltrim(m.progdrv)+'notepad.exe' with ;
					'clients', 'notepad'
			endif	
	endif
return

procedure house
if !scheck('pos98','edithead')
  return
endif

		m.oldv = m.clients
  	do m.progdrv+'clients.app' with .t.,'.t.',m.clients,'',''
		if m.oldv != m.clients
			m.clients = clients.clients
			do rclients
		endif
		do rdue
return		


procedure rdue
if m.askduedate != 'N'
  do alltrim(m.progdrv)+'askme.exe' with 'D', ;
  	'Please enter the Duedate', m.duedate
	if !m.addmode
		select pos
		set order to
		locate for pos = m.pos
		if found()
			if lockr()
		  	replace duedate with m.duedate
				unlock
			endif			  	
		endif
	endif		
endif
return

procedure paynow
			select whatcard
			set order to whatcard
			set sysm off
			if seek(m.method)
			  if m.autocard = 'N'
			    do alltrim(m.progdrv)+'askme.exe' with 'C', ;
			  	'Please enter the credit card number', m.cardno
				endif			  	
				m.surcharge = m.change
				m.change = 0
				m.payment = m.payment - m.surcharge
			else
				if !empty(m.cashdrawer)
	  			set printer to (m.cashdrawer)
			  	???chr(7)
				endif
			endif

			set sysm auto
			do save
			if m.oldv = 'C'
				_curobj = objnum(m.payment)
				m.payment = 0
				m.method = ''
				m.surcharge = 0
				m.change = 0
			endif
return

procedure cdisplay
if !empty(m.greeting)
  do alltrim(m.progdrv) + 'display.app' ;
    with .f.,'Total : ' + ;
    alltrim(str(m.total,10,2))
endif
return

function payv
if m.payment > 0

	if !scheck2('pos98','edithead')
		if m.payment < m.total
			=stopbox('Payment not valid')
		  return 0
		endif
	endif

	if !scheck('pos98','cashier')
	  =stopbox('Invalid cashier code - reset to 0.00 ')
	  m.payment = 0
	  show get m.payment
	  return 0
	endif
endif

if m.addmode
  if m.payment > m.total
  	m.change = m.payment - m.total
	else
  	m.change = 0
	endif
	show get m.change
else
  if m.payment > m.balance
  	m.change = m.payment - m.balance
	else
  	m.change = 0
	endif
	show get m.change
endif	

if m.payment > 0
	if m.balance = 0 .and. !m.addmode
		if alert('STOP','yN',-1,-1,;
			'Zero balance on this order',;
			'Do you still want a payment?') != 'Y'
			m.payment = 0
			show get m.payment
			return 0
		endif
	endif
	if !empty(m.method)
  	select method
	  set order to method
  	if !seek(m.method)
    	=stopbox('Method of payment not registered')
			return 0
		else
		  do paynow
	  endif
	else
		if jkey('jbrowser',m.progdrv,;
			'method','method',;
			'method','.t.')
			m.method = method.method
			show get m.method
			do paynow
		else
			_curobj = objnum(m.payment)
		endif
	endif
endif
return

procedure tterms
if _curobj >= firstkid() .and. ;
			 _curobj <= lastkid()

	if !empty(itemcode(pointer))
		if used(alltrim(itemfile(pointer)))
			select option
			set order to
			locate for upper(booklink) = upper(itemfile(pointer)) .and. ;
						 iclink = alltrim(itemcode(pointer))
			if found()
				if option.howmuch != option.special
						if price(pointer) = howmuch
							price(pointer) = special
							itemname(pointer) = strtran(itemname(pointer), ;
																	alltrim(after), ;
																	alltrim(m.before))
						else
							price(pointer) = howmuch
							itemname(pointer) = strtran(itemname(pointer), ;
																	alltrim(before), ;	
																	alltrim(m.after))
						endif
				endif			
			else
				select alltrim(itemfile(pointer))
				set order to
				locate for code = itemcode(pointer)
				if found()
					if price != special
						if price(pointer) = price
							price(pointer) = special
							itemname(pointer) = strtran(itemname(pointer), ;
																	alltrim(after), ;
																	alltrim(m.before))
						else
							price(pointer) = price
							itemname(pointer) = strtran(itemname(pointer), ;
																	alltrim(before), ;	
																	alltrim(m.after))
						endif
					endif
				endif
			endif
			do vtempsave
			do sumext
			show get price(pointer)
			show get itemname(pointer)
		  return
		endif
	endif

endif

if m.terms = m.before
  m.terms = m.after
else
  m.terms = m.before
endif
show get m.terms
return

function empw
if !scheck2('pos98','edithead')
  return .f.
endif
if !scheck2('pos98','editname')
  return .f.
endif
do getemp
return

function empv
if m.idcheck != 'N'
  if empty(m.employee)
    =stopbox('Please enter your employee id')
    return 0
	endif
endif
return

function cliw
if !scheck2('pos98','edithead')
  return .f.
endif
return

function cliv
do cv
return

function viaw
if !scheck2('pos98','edithead')
  return .f.
endif

if empty(m.via)
  do table
endif
return

function comw
if !scheck2('pos98','edithead')
  return .f.
endif

do getcompany
return

function miscw
if !scheck2('pos98','edithead')
  return .f.
endif
return

function miscv
if m.checkno != 'N'
	if empty(m.misc)
  	=stopbox('Please enter guest check no')
		return .f.
	endif
endif	
if lastkey() = 13
  _curobj = firstkid()
endif
return

function methodv
if !empty(m.method)
  select method
  set order to method
  if !seek(m.method)
    =stopbox('Method of payment not registered')
		return 0
  endif
endif
return

function chav
if m.oldv != m.chargerate
  m.surcharge = m.subtotal * chargerate / 100
  show get m.surcharge
endif
m.oldv = ''
return

function appv
if lastkey() = 13
  m.approved = !m.approved
	show get m.approved
endif
if m.approved
	if !empty(m.clients)
		select clients
		set order to clients
		if seek(m.clients)
			do alltrim(m.progdrv)+'notepad.exe' with ;
				'clients', 'notepad'
			replace clients.approved with .t.
		endif
	endif		
else
	if !empty(m.clients)
		select clients
		set order to clients
		if seek(m.clients)
			replace clients.approved with .f.
		endif
	endif		
endif
return

procedure resetall
if !scheck('pos98','editprint')
	return
endif
select (m.tempalias)
blank all fields checkin, backorder
do linesave
do loadkid with m.pos, 'pos'
return

procedure pr
if !scheck('pos98','lookup')
  return
endif
do previous with 'pos','pos'
if !bof(m.headfile)
	do loadkid with pos.pos, ;
				'pos'
endif	
return

procedure nr
if !scheck('pos98','lookup')
  return
endif

do next with 'pos','pos'
if !eof(m.headfile)
	do loadkid with pos.pos, ;
				'pos'
endif	
return

procedure fr
if !scheck('pos98','lookup')
  return
endif
do first with 'pos','pos'
if !bof(m.headfile)
	do loadkid with pos.pos, ;
				'pos'
endif	
return

procedure lr
if !scheck('pos98','lookup')
  return
endif
do last with 'pos','pos'
if !eof(m.headfile)
	do loadkid with pos.pos, ;
				'pos'
endif	
return

procedure cp
m.pointer = ceiling(m.arraysize * ;
						((_curobj-m.itemfrom)/;
						(m.arraysize*m.itemlen)))
return

procedure loginp
do alltrim(m.progdrv) + 'login2.exe'
m.misc2 = m.misc2 + ' ' + m.login
m.misc2 = alltrim(m.misc2)
if m.addmode .and. empty(m.employee)
  m.employee = m.login
  show get m.employee
endif
do selectm
return

procedure autosave
if _curobj != objnum(m.payment)
	do jump
else
	if m.payment = 0

		do alltrim(m.progdrv) + 'askme.exe' with ;
		 	'c','Tender Amount or Credit Card Number' + ;
 				iif(!empty(alltrim(m.splitkey)), ;
 						' or '+alltrim(m.splitkey)+ ' for split tender','') ,m.cardno

		m.cardno = alltrim(m.cardno)

		if !empty(m.splitkey)
			if alltrim(m.splitkey) = alltrim(m.cardno)
  			do tablef2
				do init
				return
			endif	
		endif	

		if m.cardi $ m.cardno
			do alltrim(progdrv) + 'icverify.app' ;
				with .t.,'.t.',m.cardresult
			if !empty(m.cardresult)
				m.payment = 0
				m.method = ''
				show get m.payment
				show get m.method
				m.cardresult = ''
			else
	  		m.cardresult = ''
			endif
		else
			if empty(m.cardno)
				do save
			else
			  m.payment = val(m.cardno)
				=payv()
			endif
		endif
	else
		if !payv()
		  return
		endif
	endif
endif
return


procedure selectm
if !scheck2('pos98','fullmenu')
	if language != 'N'
  	do half.mpr
	else
		do halfc.mpr	
	endif
else
	if language != 'N'
  	do pos98.mpr
	else
		do pos98c.mpr
	endif
endif
return

** End of inserted file ..\POS98.PRG 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴end


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVI0           itemcode[1] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   38     
*        Variable:            itemcode[1]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      1                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvi0     &&  itemcode[1] WHEN
#REGION 1
do cp
m.oldv = itemcode[pointer]
do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVIN           itemcode[1] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   38     
*        Variable:            itemcode[1]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      2                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvin     &&  itemcode[1] VALID
#REGION 1
if !i1valid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVJE           shipped[1] WHEN                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   39     
*        Variable:            shipped[1]                         
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      3                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvje     &&  shipped[1] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVJY           shipped[1] VALID                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   39     
*        Variable:            shipped[1]                         
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      4                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvjy     &&  shipped[1] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVKN           price[1] WHEN                      
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   40     
*        Variable:            price[1]                           
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      5                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvkn     &&  price[1] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVL6           price[1] VALID                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   40     
*        Variable:            price[1]                           
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      6                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvl6     &&  price[1] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVLU           linedisc[1] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   41     
*        Variable:            linedisc[1]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      7                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvlu     &&  linedisc[1] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVME           linedisc[1] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   41     
*        Variable:            linedisc[1]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      8                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvme     &&  linedisc[1] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVN8           tracking[1] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   43     
*        Variable:            tracking[1]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      9                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvn8     &&  tracking[1] WHEN
#REGION 1
do cp
if m.edittitle = 'N'
  return .f.
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVNV           tracking[1] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   43     
*        Variable:            tracking[1]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      10                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvnv     &&  tracking[1] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVOI           itemname[1] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   44     
*        Variable:            itemname[1]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      11                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvoi     &&  itemname[1] WHEN
#REGION 1
do cp
if m.edittitle = 'N'
  do namevalid
  _curobj = _curobj + 1
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVP6           itemname[1] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   44     
*        Variable:            itemname[1]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      12                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvp6     &&  itemname[1] VALID
#REGION 1
do namevalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVTY           itemcode[2] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   46     
*        Variable:            itemcode[2]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      13                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvty     &&  itemcode[2] WHEN
#REGION 1
do cp
m.oldv = itemcode[pointer]

do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVUK           itemcode[2] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   46     
*        Variable:            itemcode[2]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      14                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvuk     &&  itemcode[2] VALID
#REGION 1
if !rvalid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVV9           shipped[2] WHEN                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   47     
*        Variable:            shipped[2]                         
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      15                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvv9     &&  shipped[2] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVVV           shipped[2] VALID                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   47     
*        Variable:            shipped[2]                         
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      16                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvvv     &&  shipped[2] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVWJ           price[2] WHEN                      
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   48     
*        Variable:            price[2]                           
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      17                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvwj     &&  price[2] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVX8           price[2] VALID                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   48     
*        Variable:            price[2]                           
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      18                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvx8     &&  price[2] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVXX           linedisc[2] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   49     
*        Variable:            linedisc[2]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      19                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvxx     &&  linedisc[2] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVYG           linedisc[2] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   49     
*        Variable:            linedisc[2]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      20                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvyg     &&  linedisc[2] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVZ9           tracking[2] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   51     
*        Variable:            tracking[2]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      21                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvz9     &&  tracking[2] WHEN
#REGION 1
do cp

if m.edittitle = 'N'
  return .f.
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRVZX           tracking[2] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   51     
*        Variable:            tracking[2]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      22                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srvzx     &&  tracking[2] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW0J           itemname[2] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   52     
*        Variable:            itemname[2]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      23                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw0j     &&  itemname[2] WHEN
#REGION 1
do cp

if m.edittitle = 'N'
  do namevalid
  _curobj = _curobj + 1
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW17           itemname[2] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   52     
*        Variable:            itemname[2]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      24                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw17     &&  itemname[2] VALID
#REGION 1
do namevalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW1Z           itemcode[3] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   54     
*        Variable:            itemcode[3]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      25                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw1z     &&  itemcode[3] WHEN
#REGION 1
do cp
m.oldv = itemcode[pointer]

do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW2L           itemcode[3] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   54     
*        Variable:            itemcode[3]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      26                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw2l     &&  itemcode[3] VALID
#REGION 1
if !rvalid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW3A           shipped[3] WHEN                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   55     
*        Variable:            shipped[3]                         
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      27                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw3a     &&  shipped[3] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW45           shipped[3] VALID                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   55     
*        Variable:            shipped[3]                         
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      28                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw45     &&  shipped[3] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW4T           price[3] WHEN                      
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   56     
*        Variable:            price[3]                           
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      29                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw4t     &&  price[3] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW5C           price[3] VALID                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   56     
*        Variable:            price[3]                           
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      30                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw5c     &&  price[3] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW61           linedisc[3] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   57     
*        Variable:            linedisc[3]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      31                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw61     &&  linedisc[3] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW6N           linedisc[3] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   57     
*        Variable:            linedisc[3]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      32                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw6n     &&  linedisc[3] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW7H           tracking[3] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   59     
*        Variable:            tracking[3]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      33                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw7h     &&  tracking[3] WHEN
#REGION 1
do cp

if m.edittitle = 'N'
  return .f.
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW84           tracking[3] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   59     
*        Variable:            tracking[3]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      34                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw84     &&  tracking[3] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW8R           itemname[3] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   60     
*        Variable:            itemname[3]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      35                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw8r     &&  itemname[3] WHEN
#REGION 1
do cp

if m.edittitle = 'N'
  do namevalid
  _curobj = _curobj + 1
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRW9F           itemname[3] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   60     
*        Variable:            itemname[3]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      36                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srw9f     &&  itemname[3] VALID
#REGION 1
do namevalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWA7           itemcode[4] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   62     
*        Variable:            itemcode[4]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      37                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwa7     &&  itemcode[4] WHEN
#REGION 1
do cp
m.oldv = itemcode[pointer]

do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWAS           itemcode[4] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   62     
*        Variable:            itemcode[4]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      38                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwas     &&  itemcode[4] VALID
#REGION 1
if !rvalid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWBI           shipped[4] WHEN                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   63     
*        Variable:            shipped[4]                         
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      39                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwbi     &&  shipped[4] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWC1           shipped[4] VALID                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   63     
*        Variable:            shipped[4]                         
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      40                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwc1     &&  shipped[4] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWCP           price[4] WHEN                      
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   64     
*        Variable:            price[4]                           
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      41                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwcp     &&  price[4] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWD9           price[4] VALID                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   64     
*        Variable:            price[4]                           
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      42                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwd9     &&  price[4] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWDY           linedisc[4] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   65     
*        Variable:            linedisc[4]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      43                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwdy     &&  linedisc[4] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWEH           linedisc[4] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   65     
*        Variable:            linedisc[4]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      44                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srweh     &&  linedisc[4] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWFA           tracking[4] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   67     
*        Variable:            tracking[4]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      45                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwfa     &&  tracking[4] WHEN
#REGION 1
do cp

if m.edittitle = 'N'
  return .f.
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWFX           tracking[4] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   67     
*        Variable:            tracking[4]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      46                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwfx     &&  tracking[4] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWGL           itemname[4] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   68     
*        Variable:            itemname[4]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      47                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwgl     &&  itemname[4] WHEN
#REGION 1
do cp
if m.edittitle = 'N'
  do namevalid
  _curobj = _curobj + 1
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWH8           itemname[4] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   68     
*        Variable:            itemname[4]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      48                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwh8     &&  itemname[4] VALID
#REGION 1
do namevalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWHZ           itemcode[5] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   70     
*        Variable:            itemcode[5]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      49                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwhz     &&  itemcode[5] WHEN
#REGION 1
do cp
m.oldv = itemcode[pointer]

do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWIL           itemcode[5] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   70     
*        Variable:            itemcode[5]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      50                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwil     &&  itemcode[5] VALID
#REGION 1
if !rvalid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWJL           shipped[5] WHEN                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   71     
*        Variable:            shipped[5]                         
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      51                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwjl     &&  shipped[5] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWK6           shipped[5] VALID                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   71     
*        Variable:            shipped[5]                         
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      52                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwk6     &&  shipped[5] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWMS           price[5] WHEN                      
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   72     
*        Variable:            price[5]                           
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      53                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwms     &&  price[5] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWNB           price[5] VALID                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   72     
*        Variable:            price[5]                           
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      54                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwnb     &&  price[5] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWO0           linedisc[5] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   73     
*        Variable:            linedisc[5]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      55                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwo0     &&  linedisc[5] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWOK           linedisc[5] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   73     
*        Variable:            linedisc[5]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      56                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwok     &&  linedisc[5] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWPC           tracking[5] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   75     
*        Variable:            tracking[5]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      57                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwpc     &&  tracking[5] WHEN
#REGION 1
do cp

if m.edittitle = 'N'
  return .f.
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWQ0           tracking[5] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   75     
*        Variable:            tracking[5]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      58                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwq0     &&  tracking[5] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWQN           itemname[5] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   76     
*        Variable:            itemname[5]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      59                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwqn     &&  itemname[5] WHEN
#REGION 1
do cp
if m.edittitle = 'N'
  do namevalid
  _curobj = _curobj + 1
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWR9           itemname[5] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   76     
*        Variable:            itemname[5]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      60                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwr9     &&  itemname[5] VALID
#REGION 1
do namevalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWS3           itemcode[6] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   78     
*        Variable:            itemcode[6]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      61                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srws3     &&  itemcode[6] WHEN
#REGION 1
do cp
m.oldv = itemcode[pointer]

do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWSO           itemcode[6] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   78     
*        Variable:            itemcode[6]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      62                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwso     &&  itemcode[6] VALID
#REGION 1
if !rvalid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWTJ           shipped[6] WHEN                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   79     
*        Variable:            shipped[6]                         
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      63                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwtj     &&  shipped[6] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWU2           shipped[6] VALID                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   79     
*        Variable:            shipped[6]                         
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      64                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwu2     &&  shipped[6] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWUR           price[6] WHEN                      
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   80     
*        Variable:            price[6]                           
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      65                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwur     &&  price[6] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWVB           price[6] VALID                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   80     
*        Variable:            price[6]                           
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      66                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwvb     &&  price[6] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWW0           linedisc[6] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   81     
*        Variable:            linedisc[6]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      67                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srww0     &&  linedisc[6] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWWJ           linedisc[6] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   81     
*        Variable:            linedisc[6]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      68                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwwj     &&  linedisc[6] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWXB           tracking[6] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   83     
*        Variable:            tracking[6]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      69                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwxb     &&  tracking[6] WHEN
#REGION 1
do cp

if m.edittitle = 'N'
  return .f.
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWXZ           tracking[6] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   83     
*        Variable:            tracking[6]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      70                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwxz     &&  tracking[6] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWYM           itemname[6] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   84     
*        Variable:            itemname[6]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      71                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwym     &&  itemname[6] WHEN
#REGION 1
do cp
if m.edittitle = 'N'
  do namevalid
  _curobj = _curobj + 1
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRWZ9           itemname[6] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   84     
*        Variable:            itemname[6]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      72                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srwz9     &&  itemname[6] VALID
#REGION 1
do namevalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRX01           itemcode[7] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   86     
*        Variable:            itemcode[7]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      73                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srx01     &&  itemcode[7] WHEN
#REGION 1
do cp
m.oldv = itemcode[pointer]

do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRX0M           itemcode[7] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   86     
*        Variable:            itemcode[7]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      74                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srx0m     &&  itemcode[7] VALID
#REGION 1
if !rvalid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRX1C           shipped[7] WHEN                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   87     
*        Variable:            shipped[7]                         
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      75                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srx1c     &&  shipped[7] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRX2O           shipped[7] VALID                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   87     
*        Variable:            shipped[7]                         
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      76                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srx2o     &&  shipped[7] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRX5N           price[7] WHEN                      
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   88     
*        Variable:            price[7]                           
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      77                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srx5n     &&  price[7] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRX8R           price[7] VALID                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   88     
*        Variable:            price[7]                           
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      78                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srx8r     &&  price[7] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXAL           linedisc[7] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   89     
*        Variable:            linedisc[7]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      79                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxal     &&  linedisc[7] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXBI           linedisc[7] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   89     
*        Variable:            linedisc[7]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      80                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxbi     &&  linedisc[7] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXCB           tracking[7] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   91     
*        Variable:            tracking[7]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      81                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxcb     &&  tracking[7] WHEN
#REGION 1
do cp
if m.edittitle = 'N'
  return .f.
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXCY           tracking[7] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   91     
*        Variable:            tracking[7]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      82                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxcy     &&  tracking[7] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXDK           itemname[7] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   92     
*        Variable:            itemname[7]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      83                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxdk     &&  itemname[7] WHEN
#REGION 1
do cp
if m.edittitle = 'N'
  do namevalid
  _curobj = _curobj + 1
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXE7           itemname[7] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   92     
*        Variable:            itemname[7]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      84                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxe7     &&  itemname[7] VALID
#REGION 1
do namevalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXF0           itemcode[8] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   94     
*        Variable:            itemcode[8]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      85                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxf0     &&  itemcode[8] WHEN
#REGION 1
do cp
m.oldv = itemcode[pointer]

do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXFK           itemcode[8] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   94     
*        Variable:            itemcode[8]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      86                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxfk     &&  itemcode[8] VALID
#REGION 1
if !rvalid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXGB           shipped[8] WHEN                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   95     
*        Variable:            shipped[8]                         
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      87                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxgb     &&  shipped[8] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXGU           shipped[8] VALID                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   95     
*        Variable:            shipped[8]                         
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      88                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxgu     &&  shipped[8] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXHJ           price[8] WHEN                      
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   96     
*        Variable:            price[8]                           
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      89                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxhj     &&  price[8] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXIE           price[8] VALID                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   96     
*        Variable:            price[8]                           
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      90                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxie     &&  price[8] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXJ3           linedisc[8] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   97     
*        Variable:            linedisc[8]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      91                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxj3     &&  linedisc[8] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXJM           linedisc[8] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   97     
*        Variable:            linedisc[8]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      92                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxjm     &&  linedisc[8] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXKF           tracking[8] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   99     
*        Variable:            tracking[8]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      93                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxkf     &&  tracking[8] WHEN
#REGION 1
do cp

if m.edittitle = 'N'
  return .f.
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXL3           tracking[8] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:   99     
*        Variable:            tracking[8]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      94                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxl3     &&  tracking[8] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXLP           itemname[8] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  100     
*        Variable:            itemname[8]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      95                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxlp     &&  itemname[8] WHEN
#REGION 1
do cp
if m.edittitle = 'N'
  do namevalid
  _curobj = _curobj + 1
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXMC           itemname[8] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  100     
*        Variable:            itemname[8]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      96                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxmc     &&  itemname[8] VALID
#REGION 1
do namevalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXN4           itemcode[9] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  102     
*        Variable:            itemcode[9]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      97                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxn4     &&  itemcode[9] WHEN
#REGION 1
do cp
m.oldv = itemcode[pointer]

do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXNQ           itemcode[9] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  102     
*        Variable:            itemcode[9]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      98                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxnq     &&  itemcode[9] VALID
#REGION 1
if !rvalid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXOG           shipped[9] WHEN                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  103     
*        Variable:            shipped[9]                         
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      99                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxog     &&  shipped[9] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXOY           shipped[9] VALID                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  103     
*        Variable:            shipped[9]                         
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      100                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxoy     &&  shipped[9] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXQN           price[9] WHEN                      
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  104     
*        Variable:            price[9]                           
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      101                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxqn     &&  price[9] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXSJ           price[9] VALID                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  104     
*        Variable:            price[9]                           
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      102                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxsj     &&  price[9] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXWS           linedisc[9] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  105     
*        Variable:            linedisc[9]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      103                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxws     &&  linedisc[9] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRXYZ           linedisc[9] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  105     
*        Variable:            linedisc[9]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      104                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srxyz     &&  linedisc[9] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRY2X           tracking[9] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  107     
*        Variable:            tracking[9]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      105                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sry2x     &&  tracking[9] WHEN
#REGION 1
do cp

if m.edittitle = 'N'
  return .f.
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRY64           tracking[9] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  107     
*        Variable:            tracking[9]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      106                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sry64     &&  tracking[9] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRY7G           itemname[9] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  108     
*        Variable:            itemname[9]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      107                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sry7g     &&  itemname[9] WHEN
#REGION 1
do cp
if m.edittitle = 'N'
  do namevalid
  _curobj = _curobj + 1
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRY82           itemname[9] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  108     
*        Variable:            itemname[9]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      108                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sry82     &&  itemname[9] VALID
#REGION 1
do namevalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRY98           itemcode[10] WHEN                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  110     
*        Variable:            itemcode[10]                       
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      109                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sry98     &&  itemcode[10] WHEN
#REGION 1
do cp
m.oldv = itemcode[pointer]

do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRY9Z           itemcode[10] VALID                 
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  110     
*        Variable:            itemcode[10]                       
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      110                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sry9z     &&  itemcode[10] VALID
#REGION 1
if !rvalid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYAP           shipped[10] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  111     
*        Variable:            shipped[10]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      111                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryap     &&  shipped[10] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYB9           shipped[10] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  111     
*        Variable:            shipped[10]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      112                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryb9     &&  shipped[10] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYBX           price[10] WHEN                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  112     
*        Variable:            price[10]                          
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      113                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srybx     &&  price[10] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYCH           price[10] VALID                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  112     
*        Variable:            price[10]                          
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      114                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srych     &&  price[10] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYD5           linedisc[10] WHEN                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  113     
*        Variable:            linedisc[10]                       
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      115                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryd5     &&  linedisc[10] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYE0           linedisc[10] VALID                 
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  113     
*        Variable:            linedisc[10]                       
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      116                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srye0     &&  linedisc[10] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYET           tracking[10] WHEN                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  115     
*        Variable:            tracking[10]                       
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      117                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryet     &&  tracking[10] WHEN
#REGION 1
do cp

if m.edittitle = 'N'
  return .f.
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYFG           tracking[10] VALID                 
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  115     
*        Variable:            tracking[10]                       
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      118                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryfg     &&  tracking[10] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYG3           itemname[10] WHEN                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  116     
*        Variable:            itemname[10]                       
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      119                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryg3     &&  itemname[10] WHEN
#REGION 1
do cp
if m.edittitle = 'N'
  do namevalid
  _curobj = _curobj + 1
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYGQ           itemname[10] VALID                 
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  116     
*        Variable:            itemname[10]                       
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      120                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srygq     &&  itemname[10] VALID
#REGION 1
do namevalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYHI           itemcode[11] WHEN                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  118     
*        Variable:            itemcode[11]                       
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      121                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryhi     &&  itemcode[11] WHEN
#REGION 1
do cp
m.oldv = itemcode[pointer]

do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYI3           itemcode[11] VALID                 
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  118     
*        Variable:            itemcode[11]                       
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      122                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryi3     &&  itemcode[11] VALID
#REGION 1
if !rvalid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYIT           shipped[11] WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  119     
*        Variable:            shipped[11]                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      123                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryit     &&  shipped[11] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYJC           shipped[11] VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  119     
*        Variable:            shipped[11]                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      124                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryjc     &&  shipped[11] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYK1           price[11] WHEN                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  120     
*        Variable:            price[11]                          
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      125                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryk1     &&  price[11] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYKK           price[11] VALID                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  120     
*        Variable:            price[11]                          
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      126                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srykk     &&  price[11] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYL9           linedisc[11] WHEN                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  121     
*        Variable:            linedisc[11]                       
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      127                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryl9     &&  linedisc[11] WHEN
#REGION 1
do cp
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYLS           linedisc[11] VALID                 
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  121     
*        Variable:            linedisc[11]                       
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      128                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryls     &&  linedisc[11] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYML           tracking[11] WHEN                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  123     
*        Variable:            tracking[11]                       
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      129                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryml     &&  tracking[11] WHEN
#REGION 1
do cp

if m.edittitle = 'N'
  return .f.
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYN9           tracking[11] VALID                 
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  123     
*        Variable:            tracking[11]                       
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      130                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryn9     &&  tracking[11] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYO7           itemname[11] WHEN                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  124     
*        Variable:            itemname[11]                       
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      131                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryo7     &&  itemname[11] WHEN
#REGION 1
do cp
if m.edittitle = 'N'
  do namevalid
  _curobj = _curobj + 1
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYOU           itemname[11] VALID                 
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  124     
*        Variable:            itemname[11]                       
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      132                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryou     &&  itemname[11] VALID
#REGION 1
do namevalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYPM           itemcode[arraysize] WHEN           
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  126     
*        Variable:            itemcode[arraysize]                
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      133                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srypm     &&  itemcode[arraysize] WHEN
#REGION 1
m.pointer = m.arraysize
m.oldv = itemcode[pointer]

do auto

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYQ8           itemcode[arraysize] VALID          
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  126     
*        Variable:            itemcode[arraysize]                
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      134                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryq8     &&  itemcode[arraysize] VALID
#REGION 1
if !i7valid()
  return 0
endif


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYQY           shipped[arraysize] WHEN            
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  127     
*        Variable:            shipped[arraysize]                 
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      135                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryqy     &&  shipped[arraysize] WHEN
#REGION 1
m.pointer = m.arraysize
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYRI           shipped[arraysize] VALID           
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  127     
*        Variable:            shipped[arraysize]                 
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      136                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryri     &&  shipped[arraysize] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYS6           price[arraysize] WHEN              
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  128     
*        Variable:            price[arraysize]                   
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      137                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srys6     &&  price[arraysize] WHEN
#REGION 1
m.pointer = m.arraysize
return mcheck()


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYSS           price[arraysize] VALID             
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  128     
*        Variable:            price[arraysize]                   
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      138                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryss     &&  price[arraysize] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYTG           linedisc[arraysize] WHEN           
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  129     
*        Variable:            linedisc[arraysize]                
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      139                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srytg     &&  linedisc[arraysize] WHEN
#REGION 1
m.pointer = m.arraysize
return mcheck()

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYTZ           linedisc[arraysize] VALID          
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  129     
*        Variable:            linedisc[arraysize]                
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      140                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srytz     &&  linedisc[arraysize] VALID
#REGION 1
do vtempsave
do sumext


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYUT           tracking[arraysize] WHEN           
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  131     
*        Variable:            tracking[arraysize]                
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      141                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryut     &&  tracking[arraysize] WHEN
#REGION 1
m.pointer = m.arraysize
if m.edittitle = 'N'
  return .f.
endif



*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYVG           tracking[arraysize] VALID          
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  131     
*        Variable:            tracking[arraysize]                
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      142                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryvg     &&  tracking[arraysize] VALID
#REGION 1
do vtempsave


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYW3           itemname[arraysize] WHEN           
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  132     
*        Variable:            itemname[arraysize]                
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      143                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryw3     &&  itemname[arraysize] WHEN
#REGION 1
if m.edittitle = 'N'
  do lastvalid
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYWO           itemname[arraysize] VALID          
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  132     
*        Variable:            itemname[arraysize]                
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      144                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srywo     &&  itemname[arraysize] VALID
#REGION 1
do lastvalid


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYXK           m.firstname VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  135     
*        Variable:            m.firstname                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      145                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryxk     &&  m.firstname VALID
#REGION 1
do justafteri

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRYZ7           m.zip VALID                        
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  145     
*        Variable:            m.zip                              
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      146                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0sryz7     &&  m.zip VALID
#REGION 1
if !empty(m.zip)
  if empty(m.city)
    select zip
    set order to zip
    if seek(m.zip)
      m.city = zip.city
			m.state = zip.state
			show get m.state
      show get m.city
    endif
  endif
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRZ0E           m.discount WHEN                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  148     
*        Variable:            m.discount                         
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      147                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srz0e     &&  m.discount WHEN
#REGION 1
return mcheck()


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRZ0X           m.discount VALID                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  148     
*        Variable:            m.discount                         
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      148                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srz0x     &&  m.discount VALID
#REGION 1
do ctotal

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRZ1Y           m.taxrate WHEN                     
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  152     
*        Variable:            m.taxrate                          
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      149                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srz1y     &&  m.taxrate WHEN
#REGION 1
return mcheck()


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRZ2I           m.taxrate VALID                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  152     
*        Variable:            m.taxrate                          
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      150                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srz2i     &&  m.taxrate VALID
#REGION 1
do ctotal

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRZ3J           m.total WHEN                       
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  156     
*        Variable:            m.total                            
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      151                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srz3j     &&  m.total WHEN
#REGION 1
if mcheck()
  m.oldv = m.total
else
  return .f.
endif

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRZ45           m.total VALID                      
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  156     
*        Variable:            m.total                            
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      152                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srz45     &&  m.total VALID
#REGION 1
if m.oldv != m.total
  do ctotal2
endif
m.oldv = ''

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRZ5Y           m.chargerate WHEN                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  163     
*        Variable:            m.chargerate                       
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      153                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srz5y     &&  m.chargerate WHEN
#REGION 1
m.oldv = m.chargerate

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRZ6R           m.surcharge WHEN                   
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  165     
*        Variable:            m.surcharge                        
*        Called By:           WHEN Clause                        
*        Object Type:         Field                              
*        Snippet Number:      154                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srz6r     &&  m.surcharge WHEN
#REGION 1
m.oldv = m.surcharge


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRZ7A           m.surcharge VALID                  
*                                                                
*        Function Origin:                                        
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98,     Record Number:  165     
*        Variable:            m.surcharge                        
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      155                                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srz7a     &&  m.surcharge VALID
#REGION 1
if m.oldv != m.surcharge
  m.chargerate = m.surcharge / m.subtotal * 100
  show get m.chargerate
endif
m.oldv = ''

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RUD0SRZ82           Read Level Activate                
*                                                                
*        Function Origin:                                        
*                                                                
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         POS98                              
*        Called By:           READ Statement                     
*        Snippet Number:      **                                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rud0srz82     && Read Level Activate
*
* Activate Code from screen: POS98
*
#REGION 1
** Start of inserted file ..\ACTIVATE.PRG 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴start
external array lno

if !empty(m.prekey) .and. ;
		m.lookupmode
	select (m.headfile)
	set order to pos
	if seek(m.prekey)
		scatter memvar memo
		m.addmode = .f.
		m.oldkey = m.prekey
		do loadkid with &headfile->pos, ;
			'pos'
	endif
	m.prekey = ''
	do picklang
else
	if m.oldv2 = 'pos98' .and. !m.lookupmode
		do init
		m.oldv2 = ''
	endif	
endif

show gets

	if m._lno = 'N'
		show get lno(1) disable
	else
		show get lno(1) enable
	endif

	if m._misc = 'N'
	  show get m.misc disable
	else
		show get m.misc enable
	endif
	
	if m._via = 'N'
	  show get m.via disable
	else
		show get m.via enable
	endif	

	if m._company = 'N'
	  show get m.company disable
	else
	  show get m.company enable
	endif
	
	if m._employee = 'N'
	  show get m.employee disable
	else
	  show get m.employee enable
	endif

	if m._clients = 'N'
	  show get m.clients disable
	else
		show get m.clients enable
	endif
	
	if m._notepad = 'N'
	  show get m.notepad disable
	else
		show get m.notepad enable
	endif


** End of inserted file ..\ACTIVATE.PRG 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴end
